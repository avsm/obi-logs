$ opam depext -iy -j 2 solo5-kernel-ukvm.0.1.1
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=fedora, os-family=fedora
# The following system packages are needed:
kernel-headers
pkgconfig
Name        : kernel-headers
Version     : 4.17.11
Release     : 1.fc28
Architecture: x86_64
Install Date: Sun Aug  5 06:06:38 2018
Group       : Development/System
Size        : 4593610
License     : GPLv2
Signature   : RSA/SHA256, Mon Jul 30 20:34:51 2018, Key ID e08e7e629db62fb1
Source RPM  : kernel-headers-4.17.11-1.fc28.src.rpm
Build Date  : Mon Jul 30 13:53:03 2018
Build Host  : bkernel02.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://www.kernel.org/
Bug URL     : https://bugz.fedoraproject.org/kernel-headers
Summary     : Header files for the Linux kernel for use by glibc
Description :
Kernel-headers includes the C header files that specify the interface
between the Linux kernel and userspace libraries and programs.  The
header files define structures and constants that are needed for
building most standard programs and are also needed for rebuilding the
glibc package.
package pkgconfig is not installed
# The following new OS packages need to be installed: pkgconfig
The following command needs to be run through "sudo":
    yum install -y pkgconfig
Last metadata expiration check: 1:22:33 ago on Sun Aug  5 20:10:00 2018.
Package pkgconf-pkg-config-1.4.2-1.fc28.x86_64 is already installed, skipping.
Dependencies resolved.
Nothing to do.
Complete!
The following command needs to be run through "sudo":
    rpm -q --whatprovides pkgconfig
pkgconf-pkg-config-1.4.2-1.fc28.x86_64
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-pkg-config   1.1   [required by solo5-kernel-ukvm]
  - install solo5-kernel-ukvm 0.1.1
===== 2 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[solo5-kernel-ukvm.0.1.1] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed conf-pkg-config.1.1
[ERROR] The compilation of solo5-kernel-ukvm failed at "/usr/bin/make ukvm".

#=== ERROR while compiling solo5-kernel-ukvm.0.1.1 ============================#
# context              2.0.0 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/solo5-kernel-ukvm.0.1.1
# command              /usr/bin/make ukvm
# exit-code            2
# env-file             ~/.opam/log/solo5-kernel-ukvm-10-d2c37b.env
# output-file          ~/.opam/log/solo5-kernel-ukvm-10-d2c37b.out
### output ###
# /usr/bin/make -C kernel ukvm
# make[1]: Entering directory '/home/opam/.opam/4.06/.opam-switch/build/solo5-kernel-ukvm.0.1.1/kernel'
# cc -nostdinc -isystem /usr/lib/gcc/x86_64-redhat-linux/8/include -ffreestanding -mno-red-zone -mno-3dnow -std=gnu99 -Wall -Wextra -Werror -O2 -g -c ee_printf.c -o ee_printf.o
# ee_printf.c: In function 'vsnprintf':
# ee_printf.c:619:19: error: this statement may fall through [-Werror=implicit-fallthrough=]
#              flags |= UPPERCASE;
#                    ^
# ee_printf.c:621:9: note: here
#          case 'a':
#          ^~~~
# ee_printf.c:636:19: error: this statement may fall through [-Werror=implicit-fallthrough=]
#              flags |= UPPERCASE;
#                    ^
# ee_printf.c:638:9: note: here
#          case 'x':
#          ^~~~
# cc1: all warnings being treated as errors
# make[1]: *** [Makefile:75: ee_printf.o] Error 1
# make[1]: Leaving directory '/home/opam/.opam/4.06/.opam-switch/build/solo5-kernel-ukvm.0.1.1/kernel'
# make: *** [Makefile:28: ukvm] Error 2



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build solo5-kernel-ukvm 0.1.1
+- 
+- The following changes have been performed
| - install conf-pkg-config 1.1
+- 

The packages you requested declare the following system dependencies. Please make sure they are installed before retrying:
    kernel-headers

# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180805213236.export"
31 1533504750 1533504759