$ opam depext -iy -j 2 yajl-extra.0.7.0
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=alpine, os-family=alpine
# The following system packages are needed:
m4
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install ocamlbuild 0.12.0 [required by yajl-extra]
  - install num        1.1    [required by batteries]
  - install yajl       0.7.3  [required by yajl-extra]
  - install batteries  2.8.0  [required by yajl-extra]
  - install yajl-extra 0.7.0
===== 5 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[batteries.2.8.0] found in cache
[num.1.1] found in cache
[ocamlbuild.0.12.0] found in cache
[yajl.0.7.3] found in cache
[yajl-extra.0.7.0] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed num.1.1
-> installed ocamlbuild.0.12.0
[ERROR] The installation of yajl failed at "make install".
-> installed batteries.2.8.0

#=== ERROR while installing yajl.0.7.3 ========================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/yajl.0.7.3
# command              /usr/bin/make install
# exit-code            2
# env-file             ~/.opam/log/yajl-13-09b4f7.env
# output-file          ~/.opam/log/yajl-13-09b4f7.out
### output ###
# grep: unrecognized option: only-matching
# BusyBox v1.27.2 (2018-06-06 09:08:44 UTC) multi-call binary.
# 
# Usage: grep [-HhnlLoqvsriwFE] [-m N] [-A/B/C N] PATTERN/-e PATTERN.../-f FILE [FILE]...
# 
# Search for PATTERN in FILEs (or stdin)
# 
# 	-H	Add 'filename:' prefix
# 	-h	Do not add 'filename:' prefix
# 	-n	Add 'line_no:' prefix
# 	-l	Show only names of files that match
# 	-L	Show only names of files that don't match
# 	-c	Show only count of matching lines
# 	-o	Show only the matching part of line
# 	-q	Quiet. Return 0 if PATTERN is found, 1 otherwise
# 	-v	Select non-matching lines
# 	-s	Suppress open and read errors
# 	-r	Recurse
# 	-i	Ignore case
# 	-w	Match whole words only
# 	-x	Match whole lines only
# 	-F	PATTERN is a literal (not regexp)
# 	-E	PATTERN is an extended regexp
# 	-m N	Match up to N times per file
# 	-A N	Print N lines of trailing context
# 	-B N	Print N lines of leading context
# 	-C N	Same as '-A N -B N'
# 	-e PTRN	Pattern to match
# 	-f FILE	Read pattern from file
# # --
# # work around yajl's ruby configure script; the following is all it does:
# mkdir -p upstream/build
# cd upstream/build && cmake -DCMAKE_INSTALL_PREFIX=/home/opam/.opam/4.06/.opam-switch/build/yajl.0.7.3/upstream/local ..
# /bin/sh: cmake: not found
# make: *** [Makefile:39: /home/opam/.opam/4.06/.opam-switch/build/yajl.0.7.3/upstream/local/lib/libyajl_s.a] Error 127



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - install yajl 0.7.3
+- 
+- The following changes have been performed (the rest was aborted)
| - install batteries  2.8.0
| - install num        1.1
| - install ocamlbuild 0.12.0
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180721023153.export"
31 1532140310 1532140357