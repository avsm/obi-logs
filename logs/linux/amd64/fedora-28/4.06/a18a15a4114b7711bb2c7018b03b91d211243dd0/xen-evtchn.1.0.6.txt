$ opam depext -iy -j 2 xen-evtchn.1.0.6
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=fedora, os-family=fedora
# The following system packages are needed:
m4
xen-devel
Name        : m4
Version     : 1.4.18
Release     : 6.fc28
Architecture: x86_64
Install Date: Sat Aug  4 20:10:02 2018
Group       : Applications/Text
Size        : 372272
License     : GPLv3+
Signature   : RSA/SHA256, Sun Feb 25 11:01:47 2018, Key ID e08e7e629db62fb1
Source RPM  : m4-1.4.18-6.fc28.src.rpm
Build Date  : Sun Feb 25 10:58:14 2018
Build Host  : buildvm-25.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://www.gnu.org/software/m4/
Bug URL     : https://bugz.fedoraproject.org/m4
Summary     : The GNU macro processor
Description :
A GNU implementation of the traditional UNIX macro processor.  M4 is
useful for writing text files which can be logically parsed, and is used
by many programs as part of their build process.  M4 has built-in
functions for including files, running shell commands, doing arithmetic,
etc.  The autoconf program needs m4 for generating configure scripts, but
not for running configure scripts.

Install m4 if you need a macro processor.
package xen-devel is not installed
# The following new OS packages need to be installed: xen-devel
The following command needs to be run through "sudo":
    yum install -y xen-devel
Fedora 28 - x86_64 - Updates                     32 MB/s |  21 MB     00:00    
Last metadata expiration check: 0:00:07 ago on Sun Aug  5 04:25:45 2018.
Dependencies resolved.
================================================================================
 Package               Arch          Version               Repository      Size
================================================================================
Installing:
 xen-devel             x86_64        4.10.1-5.fc28         updates        346 k
Installing dependencies:
 e2fsprogs-libs        x86_64        1.44.2-0.fc28         updates        198 k
 libnl3                x86_64        3.4.0-3.fc28          fedora         307 k
 libuuid-devel         x86_64        2.32.1-1.fc28         updates         91 k
 xen-libs              x86_64        4.10.1-5.fc28         updates        639 k
 xen-licenses          x86_64        4.10.1-5.fc28         updates        124 k
 yajl                  x86_64        2.1.0-10.fc28         fedora          39 k

Transaction Summary
================================================================================
Install  7 Packages

Total download size: 1.7 M
Installed size: 4.6 M
Downloading Packages:
(1/7): libuuid-devel-2.32.1-1.fc28.x86_64.rpm   1.2 MB/s |  91 kB     00:00    
(2/7): xen-devel-4.10.1-5.fc28.x86_64.rpm       3.4 MB/s | 346 kB     00:00    
(3/7): e2fsprogs-libs-1.44.2-0.fc28.x86_64.rpm  7.2 MB/s | 198 kB     00:00    
(4/7): xen-libs-4.10.1-5.fc28.x86_64.rpm        5.2 MB/s | 639 kB     00:00    
(5/7): yajl-2.1.0-10.fc28.x86_64.rpm            976 kB/s |  39 kB     00:00    
(6/7): xen-licenses-4.10.1-5.fc28.x86_64.rpm    3.9 MB/s | 124 kB     00:00    
(7/7): libnl3-3.4.0-3.fc28.x86_64.rpm           2.9 MB/s | 307 kB     00:00    
--------------------------------------------------------------------------------
Total                                           941 kB/s | 1.7 MB     00:01     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : xen-licenses-4.10.1-5.fc28.x86_64                      1/7 
  Installing       : yajl-2.1.0-10.fc28.x86_64                              2/7 
  Installing       : libnl3-3.4.0-3.fc28.x86_64                             3/7 
  Running scriptlet: libnl3-3.4.0-3.fc28.x86_64                             3/7 
  Installing       : e2fsprogs-libs-1.44.2-0.fc28.x86_64                    4/7 
  Running scriptlet: e2fsprogs-libs-1.44.2-0.fc28.x86_64                    4/7 
  Installing       : xen-libs-4.10.1-5.fc28.x86_64                          5/7 
  Installing       : libuuid-devel-2.32.1-1.fc28.x86_64                     6/7 
  Installing       : xen-devel-4.10.1-5.fc28.x86_64                         7/7 
  Running scriptlet: xen-devel-4.10.1-5.fc28.x86_64                         7/7 
  Verifying        : xen-devel-4.10.1-5.fc28.x86_64                         1/7 
  Verifying        : libuuid-devel-2.32.1-1.fc28.x86_64                     2/7 
  Verifying        : xen-libs-4.10.1-5.fc28.x86_64                          3/7 
  Verifying        : e2fsprogs-libs-1.44.2-0.fc28.x86_64                    4/7 
  Verifying        : libnl3-3.4.0-3.fc28.x86_64                             5/7 
  Verifying        : yajl-2.1.0-10.fc28.x86_64                              6/7 
  Verifying        : xen-licenses-4.10.1-5.fc28.x86_64                      7/7 

Installed:
  xen-devel.x86_64 4.10.1-5.fc28       e2fsprogs-libs.x86_64 1.44.2-0.fc28      
  libnl3.x86_64 3.4.0-3.fc28           libuuid-devel.x86_64 2.32.1-1.fc28       
  xen-libs.x86_64 4.10.1-5.fc28        xen-licenses.x86_64 4.10.1-5.fc28        
  yajl.x86_64 2.1.0-10.fc28           

Complete!
The following command needs to be run through "sudo":
    rpm -q --whatprovides xen-devel
xen-devel-4.10.1-5.fc28.x86_64
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install result                  1.3    [required by cmdliner, lwt]
  - install base-bytes              base   [required by ounit]
  - install ocamlbuild              0.12.0 [required by xen-evtchn]
  - install ocaml-migrate-parsetree 1.0.11 [required by lwt]
  - install cppo                    1.6.4  [required by lwt]
  - install topkg                   0.9.1  [required by cmdliner]
  - install ounit                   2.0.8  [required by xen-evtchn]
  - install camlp4                  4.06+1 [required by xen-evtchn]
  - install ppx_tools_versioned     5.2    [required by lwt]
  - install cmdliner                1.0.2  [required by xen-evtchn]
  - install lwt                     3.3.0  [required by xen-evtchn]    For the PPX, please install package lwt_ppx
                                                                       For the Camlp4 syntax, please install package lwt_camlp4
                                                                       For Lwt_log and Lwt_daemon, please install package lwt_log
  - install xen-evtchn              1.0.6
===== 12 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[camlp4.4.06+1] found in cache
[cmdliner.1.0.2] found in cache
[cppo.1.6.4] found in cache
[lwt.3.3.0] found in cache
[ocaml-migrate-parsetree.1.0.11] found in cache
[ocamlbuild.0.12.0] found in cache
[ounit.2.0.8] found in cache
[ppx_tools_versioned.5.2] found in cache
[result.1.3] found in cache
[topkg.0.9.1] found in cache
[xen-evtchn.1.0.6] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed base-bytes.base
-> installed cppo.1.6.4
-> installed result.1.3
-> installed ocamlbuild.0.12.0
-> installed ocaml-migrate-parsetree.1.0.11
-> installed ounit.2.0.8
-> installed ppx_tools_versioned.5.2
-> installed topkg.0.9.1
-> installed cmdliner.1.0.2
-> installed camlp4.4.06+1
-> installed lwt.3.3.0
[ERROR] The compilation of xen-evtchn failed at "/usr/bin/make".

#=== ERROR while compiling xen-evtchn.1.0.6 ===================================#
# context              2.0.0 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/xen-evtchn.1.0.6
# command              /usr/bin/make
# exit-code            2
# env-file             ~/.opam/log/xen-evtchn-10-1c697e.env
# output-file          ~/.opam/log/xen-evtchn-10-1c697e.out
### output ###
# ocamlfind ocamlopt -package "cmdliner" -linkpkg configure.ml -o configure
# rm -f configure.c* configure.o
# ./configure
# Looking for xenctrl.h: ok
# File "setup.ml", line 318, characters 20-36:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "setup.ml", line 318, characters 42-58:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "setup.ml", line 327, characters 14-30:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "setup.ml", line 327, characters 38-54:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "setup.ml", line 330, characters 25-41:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "setup.ml", line 368, characters 10-26:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "setup.ml", line 474, characters 13-29:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "setup.ml", line 1825, characters 16-33:
# Warning 3: deprecated: String.capitalize
# Use String.capitalize_ascii instead.
# File "setup.ml", line 1831, characters 16-35:
# Warning 3: deprecated: String.uncapitalize
# Use String.uncapitalize_ascii instead.
# File "setup.ml", line 5847, characters 11-28:
# Warning 3: deprecated: String.capitalize
# Use String.capitalize_ascii instead.
# File "setup.ml", line 5848, characters 11-30:
# Warning 3: deprecated: String.uncapitalize
# Use String.uncapitalize_ascii instead.
# ./setup.bin -configure --enable-tests --enable-xenctrl
# 
# Configuration: 
# ocamlfind: ........................................... /home/opam/.opam/4.06/bin/ocamlfind
# ocamlc: .............................................. /home/opam/.opam/4.06/bin/ocamlc.opt
# ocamlopt: ............................................ /home/opam/.opam/4.06/bin/ocamlopt.opt
# ocamlbuild: .......................................... /home/opam/.opam/4.06/bin/ocamlbuild
# Package name: ........................................ xen-evtchn
# Package version: ..................................... 1.0.6
# os_type: ............................................. Unix
# system: .............................................. linux
# architecture: ........................................ amd64
# ccomp_type: .......................................... cc
# ocaml_version: ....................................... 4.06.1
# standard_library_default: ............................ /home/opam/.opam/4.06/lib/ocaml
# standard_library: .................................... /home/opam/.opam/4.06/lib/ocaml
# standard_runtime: .................................... /home/opam/.opam/4.06/bin/ocamlrun
# bytecomp_c_compiler: ................................. gcc -O2 -fno-strict-aliasing -fwrapv -fPIC -D_FILE_OFFSET_BITS=64 -D_REENTRANT
# native_c_compiler: ................................... gcc -O2 -fno-strict-aliasing -fwrapv -D_FILE_OFFSET_BITS=64 -D_REENTRANT
# model: ............................................... default
# ext_obj: ............................................. .o
# ext_asm: ............................................. .s
# ext_lib: ............................................. .a
# ext_dll: ............................................. .so
# default_executable_name: ............................. a.out
# systhread_supported: ................................. true
# Install architecture-independent files dir: .......... /usr/local
# Install architecture-dependent files in dir: ......... $prefix
# User executables: .................................... $exec_prefix/bin
# System admin executables: ............................ $exec_prefix/sbin
# Program executables: ................................. $exec_prefix/libexec
# Read-only single-machine data: ....................... $prefix/etc
# Modifiable architecture-independent data: ............ $prefix/com
# Modifiable single-machine data: ...................... $prefix/var
# Object code libraries: ............................... $exec_prefix/lib
# Read-only arch-independent data root: ................ $prefix/share
# Read-only architecture-independent data: ............. $datarootdir
# Info documentation: .................................. $datarootdir/info
# Locale-dependent data: ............................... $datarootdir/locale
# Man documentation: ................................... $datarootdir/man
# Documentation root: .................................. $datarootdir/doc/$pkg_name
# HTML documentation: .................................. $docdir
# DVI documentation: ................................... $docdir
# PDF documentation: ................................... $docdir
# PS documentation: .................................... $docdir
# findlib_version: ..................................... 1.8.0
# is_native: ........................................... true
# suffix_program: ...................................... 
# Remove a file.: ...................................... rm -f
# Remove a directory.: ................................. rm -rf
# Turn ocaml debug flag on: ............................ true
# Turn ocaml profile flag on: .......................... false
# Compiler support generation of .cmxs.: ............... true
# OCamlbuild additional flags: ......................... 
# build Unix userspace bindings: ....................... true
# Create documentations: ............................... true
# Compile tests executable and library and run them: ... true
# pkg_unix: ............................................ /home/opam/.opam/4.06/lib/ocaml
# pkg_lwt: ............................................. /home/opam/.opam/4.06/lib/lwt
# pkg_bigarray: ........................................ /home/opam/.opam/4.06/lib/ocaml
# pkg_lwt_unix: ........................................ /home/opam/.opam/4.06/lib/lwt
# pkg_lwt_syntax: ...................................... /home/opam/.opam/4.06/lib/lwt
# pkg_ounit: ........................................... /home/opam/.opam/4.06/lib/oUnit
# 
# ./setup.bin -build -j 4 -classic-display
# /home/opam/.opam/4.06/bin/ocamlopt.opt unix.cmxa -I /home/opam/.opam/4.06/lib/ocamlbuild /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuildlib.cmxa myocamlbuild.ml /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# Configuration "true: quiet, debug, tests", line 1, characters 20-25:
# Warning: the tag "tests" is not used in any flag or dependency declaration, so it will have no effect; it may be a typo. Otherwise you can use `mark_tag_used` in your myocamlbuild.ml to disable this warning.
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -modules lib/eventchn.mli > lib/eventchn.mli.depends
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/eventchn.cmi lib/eventchn.mli
# + /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/eventchn.cmi lib/eventchn.mli
# ocamlfind: [WARNING] Package `threads': Linking problems may arise because of the missing -thread or -vmthread switch
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -modules lib/eventchn.ml > lib/eventchn.ml.depends
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -modules lib/generation.ml > lib/generation.ml.depends
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/generation.cmo lib/generation.ml
# + /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/generation.cmo lib/generation.ml
# ocamlfind: [WARNING] Package `threads': Linking problems may arise because of the missing -thread or -vmthread switch
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/eventchn.cmo lib/eventchn.ml
# + /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/eventchn.cmo lib/eventchn.ml
# ocamlfind: [WARNING] Package `threads': Linking problems may arise because of the missing -thread or -vmthread switch
# File "lib/eventchn.ml", line 51, characters 0-76:
# Warning 3: deprecated: [@@noalloc] should be used instead of "noalloc"
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -a -I lib lib/generation.cmo lib/eventchn.cmo -o lib/xen_evtchn.cma
# /home/opam/.opam/4.06/bin/ocamlfind ocamlopt -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/generation.cmx lib/generation.ml
# + /home/opam/.opam/4.06/bin/ocamlfind ocamlopt -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/generation.cmx lib/generation.ml
# ocamlfind: [WARNING] Package `threads': Linking problems may arise because of the missing -thread or -vmthread switch
# /home/opam/.opam/4.06/bin/ocamlfind ocamlopt -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/eventchn.cmx lib/eventchn.ml
# + /home/opam/.opam/4.06/bin/ocamlfind ocamlopt -c -g -annot -bin-annot -I lib -I lib -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -package bigarray -package lwt -syntax camlp4o -package lwt.syntax -package lwt.unix -package unix -I lib -o lib/eventchn.cmx lib/eventchn.ml
# ocamlfind: [WARNING] Package `threads': Linking problems may arise because of the missing -thread or -vmthread switch
# File "lib/eventchn.ml", line 51, characters 0-76:
# Warning 3: deprecated: [@@noalloc] should be used instead of "noalloc"
# /home/opam/.opam/4.06/bin/ocamlfind ocamlopt -a -I lib lib/generation.cmx lib/eventchn.cmx -o lib/xen_evtchn.cmxa
# /home/opam/.opam/4.06/bin/ocamlfind ocamlopt -shared -I lib lib/xen_evtchn.cmxa lib/generation.cmx lib/eventchn.cmx -o lib/xen_evtchn.cmxs
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -g -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -c lib/eventchn_stubs.c
# + /home/opam/.opam/4.06/bin/ocamlfind ocamlc -g -ccopt -Wno-unused-function -ccopt -g -ccopt -ggdb -c lib/eventchn_stubs.c
# lib/eventchn_stubs.c: In function 'stub_evtchn_init':
# lib/eventchn_stubs.c:46:18: warning: implicit declaration of function 'xc_evtchn_open'; did you mean 'xc_evtchn_reset'? [-Wimplicit-function-declaration]
#      global_xce = xc_evtchn_open(NULL, XC_OPENFLAG_NON_REENTRANT);
#                   ^~~~~~~~~~~~~~
#                   xc_evtchn_reset
# lib/eventchn_stubs.c:46:16: warning: assignment to 'xc_interface *' {aka 'struct xc_interface_core *'} from 'int' makes pointer from integer without a cast [-Wint-conversion]
#      global_xce = xc_evtchn_open(NULL, XC_OPENFLAG_NON_REENTRANT);
#                 ^
# lib/eventchn_stubs.c: In function 'stub_evtchn_fd':
# lib/eventchn_stubs.c:67:8: warning: implicit declaration of function 'xc_evtchn_fd'; did you mean 'stub_evtchn_fd'? [-Wimplicit-function-declaration]
#    fd = xc_evtchn_fd(_H(xce));
#         ^~~~~~~~~~~~
#         stub_evtchn_fd
# lib/eventchn_stubs.c:38:19: error: 'xc_evtchn' undeclared (first use in this function)
#  #define _H(__h) ((xc_evtchn *)(__h))
#                    ^~~~~~~~~
# lib/eventchn_stubs.c:67:21: note: in expansion of macro '_H'
#    fd = xc_evtchn_fd(_H(xce));
#                      ^~
# lib/eventchn_stubs.c:38:19: note: each undeclared identifier is reported only once for each function it appears in
#  #define _H(__h) ((xc_evtchn *)(__h))
#                    ^~~~~~~~~
# lib/eventchn_stubs.c:67:21: note: in expansion of macro '_H'
#    fd = xc_evtchn_fd(_H(xce));
#                      ^~
# lib/eventchn_stubs.c:38:30: error: expected expression before ')' token
#  #define _H(__h) ((xc_evtchn *)(__h))
#                               ^
# lib/eventchn_stubs.c:67:21: note: in expansion of macro '_H'
#    fd = xc_evtchn_fd(_H(xce));
#                      ^~
# lib/eventchn_stubs.c: In function 'stub_evtchn_notify':
# lib/eventchn_stubs.c:79:6: warning: implicit declaration of function 'xc_evtchn_notify'; did you mean 'stub_evtchn_notify'? [-Wimplicit-function-declaration]
#    if(xc_evtchn_notify(_H(xce), Int_val(port)) == -1)
#       ^~~~~~~~~~~~~~~~
#       stub_evtchn_notify
# lib/eventchn_stubs.c:38:19: error: 'xc_evtchn' undeclared (first use in this function)
#  #define _H(__h) ((xc_evtchn *)(__h))
#                    ^~~~~~~~~
# lib/eventchn_stubs.c:79:23: note: in expansion of macro '_H'
#    if(xc_evtchn_notify(_H(xce), Int_val(port)) == -1)
#                        ^~
# lib/eventchn_stubs.c:38:30: error: expected expression before ')' token
#  #define _H(__h) ((xc_evtchn *)(__h))
#                               ^
# lib/eventchn_stubs.c:79:23: note: in expansion of macro '_H'
#    if(xc_evtchn_notify(_H(xce), Int_val(port)) == -1)
#                        ^~
# lib/eventchn_stubs.c: In function 'stub_evtchn_bind_interdomain':
# lib/eventchn_stubs.c:92:3: error: unknown type name 'evtchn_port_or_error_t'; did you mean 'xc_evtchn_port_or_error_t'?
#    evtchn_port_or_error_t rc;
#    ^~~~~~~~~~~~~~~~~~~~~~
#    xc_evtchn_port_or_error_t
# lib/eventchn_stubs.c:94:8: warning: implicit declaration of function 'xc_evtchn_bind_interdomain'; did you mean 'stub_evtchn_bind_interdomain'? [-Wimplicit-function-declaration]
#    rc = xc_evtchn_bind_interdomain(_H(xce), Int_val(domid), Int_val(remote_port));
#         ^~~~~~~~~~~~~~~~~~~~~~~~~~
#         stub_evtchn_bind_interdomain
# lib/eventchn_stubs.c:38:19: error: 'xc_evtchn' undeclared (first use in this function)
#  #define _H(__h) ((xc_evtchn *)(__h))
#                    ^~~~~~~~~
# lib/eventchn_stubs.c:94:35: note: in expansion of macro '_H'
#    rc = xc_evtchn_bind_interdomain(_H(xce), Int_val(domid), Int_val(remote_port));
#                                    ^~
# lib/eventchn_stubs.c:38:30: error: expected expression before ')' token
#  #define _H(__h) ((xc_evtchn *)(__h))
#                               ^
# lib/eventchn_stubs.c:94:35: note: in expansion of macro '_H'
#    rc = xc_evtchn_bind_interdomain(_H(xce), Int_val(domid), Int_val(remote_port));
#                                    ^~
# lib/eventchn_stubs.c: In function 'stub_evtchn_alloc_unbound':
# lib/eventchn_stubs.c:107:3: error: unknown type name 'evtchn_port_or_error_t'; did you mean 'xc_evtchn_port_or_error_t'?
#    evtchn_port_or_error_t rc;
#    ^~~~~~~~~~~~~~~~~~~~~~
#    xc_evtchn_port_or_error_t
# lib/eventchn_stubs.c:109:8: warning: implicit declaration of function 'xc_evtchn_bind_unbound_port'; did you mean 'xc_evtchn_alloc_unbound'? [-Wimplicit-function-declaration]
#    rc = xc_evtchn_bind_unbound_port(_H(xce), Int_val(remote_domid));
#         ^~~~~~~~~~~~~~~~~~~~~~~~~~~
#         xc_evtchn_alloc_unbound
# lib/eventchn_stubs.c:38:19: error: 'xc_evtchn' undeclared (first use in this function)
#  #define _H(__h) ((xc_evtchn *)(__h))
#                    ^~~~~~~~~
# lib/eventchn_stubs.c:109:36: note: in expansion of macro '_H'
#    rc = xc_evtchn_bind_unbound_port(_H(xce), Int_val(remote_domid));
#                                     ^~
# lib/eventchn_stubs.c:38:30: error: expected expression before ')' token
#  #define _H(__h) ((xc_evtchn *)(__h))
#                               ^
# lib/eventchn_stubs.c:109:36: note: in expansion of macro '_H'
#    rc = xc_evtchn_bind_unbound_port(_H(xce), Int_val(remote_domid));
#                                     ^~
# lib/eventchn_stubs.c: In function 'stub_evtchn_bind_virq':
# lib/eventchn_stubs.c:129:3: error: unknown type name 'evtchn_port_or_error_t'; did you mean 'xc_evtchn_port_or_error_t'?
#    evtchn_port_or_error_t rc;
#    ^~~~~~~~~~~~~~~~~~~~~~
#    xc_evtchn_port_or_error_t
# lib/eventchn_stubs.c:131:8: warning: implicit declaration of function 'xc_evtchn_bind_virq'; did you mean 'stub_evtchn_bind_virq'? [-Wimplicit-function-declaration]
#    rc = xc_evtchn_bind_virq(_H(xce), Int_val(virq));
#         ^~~~~~~~~~~~~~~~~~~
#         stub_evtchn_bind_virq
# lib/eventchn_stubs.c:38:19: error: 'xc_evtchn' undeclared (first use in this function)
#  #define _H(__h) ((xc_evtchn *)(__h))
#                    ^~~~~~~~~
# lib/eventchn_stubs.c:131:28: note: in expansion of macro '_H'
#    rc = xc_evtchn_bind_virq(_H(xce), Int_val(virq));
#                             ^~
# lib/eventchn_stubs.c:38:30: error: expected expression before ')' token
#  #define _H(__h) ((xc_evtchn *)(__h))
#                               ^
# lib/eventchn_stubs.c:131:28: note: in expansion of macro '_H'
#    rc = xc_evtchn_bind_virq(_H(xce), Int_val(virq));
#                             ^~
# lib/eventchn_stubs.c: In function 'stub_evtchn_unbind':
# lib/eventchn_stubs.c:144:6: warning: implicit declaration of function 'xc_evtchn_unbind'; did you mean 'stub_evtchn_unbind'? [-Wimplicit-function-declaration]
#    if(xc_evtchn_unbind(_H(xce), Int_val(port)) == -1)
#       ^~~~~~~~~~~~~~~~
#       stub_evtchn_unbind
# lib/eventchn_stubs.c:38:19: error: 'xc_evtchn' undeclared (first use in this function)
#  #define _H(__h) ((xc_evtchn *)(__h))
#                    ^~~~~~~~~
# lib/eventchn_stubs.c:144:23: note: in expansion of macro '_H'
#    if(xc_evtchn_unbind(_H(xce), Int_val(port)) == -1)
#                        ^~
# lib/eventchn_stubs.c:38:30: error: expected expression before ')' token
#  #define _H(__h) ((xc_evtchn *)(__h))
#                               ^
# lib/eventchn_stubs.c:144:23: note: in expansion of macro '_H'
#    if(xc_evtchn_unbind(_H(xce), Int_val(port)) == -1)
#                        ^~
# lib/eventchn_stubs.c: In function 'stub_evtchn_pending':
# lib/eventchn_stubs.c:157:3: error: unknown type name 'evtchn_port_or_error_t'; did you mean 'xc_evtchn_port_or_error_t'?
#    evtchn_port_or_error_t port;
#    ^~~~~~~~~~~~~~~~~~~~~~
#    xc_evtchn_port_or_error_t
# lib/eventchn_stubs.c:161:10: warning: implicit declaration of function 'xc_evtchn_pending'; did you mean 'stub_evtchn_pending'? [-Wimplicit-function-declaration]
#    port = xc_evtchn_pending(_H(xce));
#           ^~~~~~~~~~~~~~~~~
#           stub_evtchn_pending
# lib/eventchn_stubs.c:38:19: error: 'xc_evtchn' undeclared (first use in this function)
#  #define _H(__h) ((xc_evtchn *)(__h))
#                    ^~~~~~~~~
# lib/eventchn_stubs.c:161:28: note: in expansion of macro '_H'
#    port = xc_evtchn_pending(_H(xce));
#                             ^~
# lib/eventchn_stubs.c:38:30: error: expected expression before ')' token
#  #define _H(__h) ((xc_evtchn *)(__h))
#                               ^
# lib/eventchn_stubs.c:161:28: note: in expansion of macro '_H'
#    port = xc_evtchn_pending(_H(xce));
#                             ^~
# lib/eventchn_stubs.c: In function 'stub_evtchn_unmask':
# lib/eventchn_stubs.c:177:7: warning: implicit declaration of function 'xc_evtchn_unmask'; did you mean 'stub_evtchn_unmask'? [-Wimplicit-function-declaration]
#    if (xc_evtchn_unmask(_H(xce), Int_val(port)) == -1)
#        ^~~~~~~~~~~~~~~~
#        stub_evtchn_unmask
# lib/eventchn_stubs.c:38:19: error: 'xc_evtchn' undeclared (first use in this function)
#  #define _H(__h) ((xc_evtchn *)(__h))
#                    ^~~~~~~~~
# lib/eventchn_stubs.c:177:24: note: in expansion of macro '_H'
#    if (xc_evtchn_unmask(_H(xce), Int_val(port)) == -1)
#                         ^~
# lib/eventchn_stubs.c:38:30: error: expected expression before ')' token
#  #define _H(__h) ((xc_evtchn *)(__h))
#                               ^
# lib/eventchn_stubs.c:177:24: note: in expansion of macro '_H'
#    if (xc_evtchn_unmask(_H(xce), Int_val(port)) == -1)
#                         ^~
# Command exited with code 2.
# + /home/opam/.opam/4.06/bin/ocamlopt.opt unix.cmxa -I /home/opam/.opam/4.06/lib/ocamlbuild /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuildlib.cmxa myocamlbuild.ml /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# File "myocamlbuild.ml", line 518, characters 43-62:
# Warning 3: deprecated: Ocamlbuild_plugin.String.uncapitalize
# Use String.uncapitalize_ascii instead.
# File "myocamlbuild.ml", line 531, characters 51-70:
# Warning 3: deprecated: Ocamlbuild_plugin.String.uncapitalize
# Use String.uncapitalize_ascii instead.
# E: Failure("Command ''/home/opam/.opam/4.06/bin/ocamlbuild' lib/xen_evtchn.cma lib/xen_evtchn.cmxa lib/xen_evtchn.a lib/xen_evtchn.cmxs lib/libxen_evtchn_unix_stubs.a lib/dllxen_evtchn_unix_stubs.so lib/xen_evtchn_unix.cma lib/xen_evtchn_unix.cmxa lib/xen_evtchn_unix.a lib/xen_evtchn_unix.cmxs lib/xen_evtchn_unix_activations.cma lib/xen_evtchn_unix_activations.cmxa lib/xen_evtchn_unix_activations.a lib/xen_evtchn_unix_activations.cmxs lib_test/main.native -tag debug -tag tests -j 4 -classic-display' terminated with error code 10")
# make: *** [Makefile:24: build] Error 1



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build xen-evtchn 1.0.6
+- 
+- The following changes have been performed
| - install base-bytes              base
| - install camlp4                  4.06+1
| - install cmdliner                1.0.2
| - install cppo                    1.6.4
| - install lwt                     3.3.0
| - install ocaml-migrate-parsetree 1.0.11
| - install ocamlbuild              0.12.0
| - install ounit                   2.0.8
| - install ppx_tools_versioned     5.2
| - install result                  1.3
| - install topkg                   0.9.1
+- 

The packages you requested declare the following system dependencies. Please make sure they are installed before retrying:
    xen-devel

# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180805042601.export"
31 1533443141 1533443278