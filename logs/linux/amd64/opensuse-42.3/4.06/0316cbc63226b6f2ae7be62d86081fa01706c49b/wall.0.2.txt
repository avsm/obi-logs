$ opam depext -iy -j 2 wall.0.2
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=opensuse, os-family=suse
# The following system packages are needed:
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install result          1.3    [required by wall]
  - install grenier         0.7    [required by wall]
  - install ocamlbuild      0.12.0 [required by gg]
  - install conf-pkg-config 1.1    [required by conf-gles2]
  - install stb_truetype    0.6    [required by wall]
  - install stb_image       0.4    [required by wall]
  - install topkg           0.9.1  [required by gg]
  - install conf-gles2      1      [required by wall]
  - install gg              0.9.2  [required by wall]
  - install wall            0.2
===== 10 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[gg.0.9.2] found in cache
[grenier.0.7] found in cache
[ocamlbuild.0.12.0] found in cache
[result.1.3] found in cache
[stb_image.0.4] found in cache
[stb_truetype.0.6] found in cache
[topkg.0.9.1] found in cache
[wall.0.2] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed conf-pkg-config.1.1
[ERROR] The compilation of conf-gles2 failed at "/usr/bin/pkg-config glesv2".
-> installed grenier.0.7
-> installed result.1.3
-> installed ocamlbuild.0.12.0
-> installed stb_image.0.4
-> installed stb_truetype.0.6
-> installed topkg.0.9.1
-> installed gg.0.9.2

#=== ERROR while compiling conf-gles2.1 =======================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/conf-gles2.1
# command              /usr/bin/pkg-config glesv2
# exit-code            1
# env-file             ~/.opam/log/conf-gles2-12-062a54.env
# output-file          ~/.opam/log/conf-gles2-12-062a54.out



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build conf-gles2 1
+- 
+- The following changes have been performed (the rest was aborted)
| - install conf-pkg-config 1.1
| - install gg              0.9.2
| - install grenier         0.7
| - install ocamlbuild      0.12.0
| - install result          1.3
| - install stb_image       0.4
| - install stb_truetype    0.6
| - install topkg           0.9.1
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180727044428.export"
31 1532666603 1532666686