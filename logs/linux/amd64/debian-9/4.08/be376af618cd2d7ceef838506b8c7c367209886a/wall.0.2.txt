$ opam depext -iy -j 2 wall.0.2
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=debian, os-family=debian
# The following system packages are needed:
libgles2-mesa-dev
m4
pkg-config
The following command needs to be run through "sudo":
    apt-get install -qq -yy libgles2-mesa-dev m4 pkg-config
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package sgml-base.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 17681 files and directories currently installed.)
Preparing to unpack .../00-sgml-base_1.29_all.deb ...
Unpacking sgml-base (1.29) ...
Selecting previously unselected package libicu57:amd64.
Preparing to unpack .../01-libicu57_57.1-6+deb9u2_amd64.deb ...
Unpacking libicu57:amd64 (57.1-6+deb9u2) ...
Selecting previously unselected package libxml2:amd64.
Preparing to unpack .../02-libxml2_2.9.4+dfsg1-2.2+deb9u2_amd64.deb ...
Unpacking libxml2:amd64 (2.9.4+dfsg1-2.2+deb9u2) ...
Selecting previously unselected package libdrm2:amd64.
Preparing to unpack .../03-libdrm2_2.4.74-1_amd64.deb ...
Unpacking libdrm2:amd64 (2.4.74-1) ...
Selecting previously unselected package libdrm-amdgpu1:amd64.
Preparing to unpack .../04-libdrm-amdgpu1_2.4.74-1_amd64.deb ...
Unpacking libdrm-amdgpu1:amd64 (2.4.74-1) ...
Selecting previously unselected package libpciaccess0:amd64.
Preparing to unpack .../05-libpciaccess0_0.13.4-1+b2_amd64.deb ...
Unpacking libpciaccess0:amd64 (0.13.4-1+b2) ...
Selecting previously unselected package libdrm-intel1:amd64.
Preparing to unpack .../06-libdrm-intel1_2.4.74-1_amd64.deb ...
Unpacking libdrm-intel1:amd64 (2.4.74-1) ...
Selecting previously unselected package libdrm-radeon1:amd64.
Preparing to unpack .../07-libdrm-radeon1_2.4.74-1_amd64.deb ...
Unpacking libdrm-radeon1:amd64 (2.4.74-1) ...
Selecting previously unselected package libdrm-nouveau2:amd64.
Preparing to unpack .../08-libdrm-nouveau2_2.4.74-1_amd64.deb ...
Unpacking libdrm-nouveau2:amd64 (2.4.74-1) ...
Selecting previously unselected package libdrm-dev:amd64.
Preparing to unpack .../09-libdrm-dev_2.4.74-1_amd64.deb ...
Unpacking libdrm-dev:amd64 (2.4.74-1) ...
Selecting previously unselected package libwayland-client0:amd64.
Preparing to unpack .../10-libwayland-client0_1.12.0-1_amd64.deb ...
Unpacking libwayland-client0:amd64 (1.12.0-1) ...
Selecting previously unselected package libwayland-server0:amd64.
Preparing to unpack .../11-libwayland-server0_1.12.0-1_amd64.deb ...
Unpacking libwayland-server0:amd64 (1.12.0-1) ...
Selecting previously unselected package libgbm1:amd64.
Preparing to unpack .../12-libgbm1_13.0.6-1+b2_amd64.deb ...
Unpacking libgbm1:amd64 (13.0.6-1+b2) ...
Selecting previously unselected package libx11-xcb1:amd64.
Preparing to unpack .../13-libx11-xcb1_2%3a1.6.4-3_amd64.deb ...
Unpacking libx11-xcb1:amd64 (2:1.6.4-3) ...
Selecting previously unselected package libxcb-dri2-0:amd64.
Preparing to unpack .../14-libxcb-dri2-0_1.12-1_amd64.deb ...
Unpacking libxcb-dri2-0:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-dri3-0:amd64.
Preparing to unpack .../15-libxcb-dri3-0_1.12-1_amd64.deb ...
Unpacking libxcb-dri3-0:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-present0:amd64.
Preparing to unpack .../16-libxcb-present0_1.12-1_amd64.deb ...
Unpacking libxcb-present0:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-sync1:amd64.
Preparing to unpack .../17-libxcb-sync1_1.12-1_amd64.deb ...
Unpacking libxcb-sync1:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-xfixes0:amd64.
Preparing to unpack .../18-libxcb-xfixes0_1.12-1_amd64.deb ...
Unpacking libxcb-xfixes0:amd64 (1.12-1) ...
Selecting previously unselected package libxshmfence1:amd64.
Preparing to unpack .../19-libxshmfence1_1.2-1+b2_amd64.deb ...
Unpacking libxshmfence1:amd64 (1.2-1+b2) ...
Selecting previously unselected package libegl1-mesa:amd64.
Preparing to unpack .../20-libegl1-mesa_13.0.6-1+b2_amd64.deb ...
Unpacking libegl1-mesa:amd64 (13.0.6-1+b2) ...
Selecting previously unselected package libwayland-egl1-mesa:amd64.
Preparing to unpack .../21-libwayland-egl1-mesa_13.0.6-1+b2_amd64.deb ...
Unpacking libwayland-egl1-mesa:amd64 (13.0.6-1+b2) ...
Selecting previously unselected package x11proto-dri2-dev.
Preparing to unpack .../22-x11proto-dri2-dev_2.8-2_all.deb ...
Unpacking x11proto-dri2-dev (2.8-2) ...
Selecting previously unselected package x11proto-gl-dev.
Preparing to unpack .../23-x11proto-gl-dev_1.4.17-1_all.deb ...
Unpacking x11proto-gl-dev (1.4.17-1) ...
Selecting previously unselected package x11proto-xext-dev.
Preparing to unpack .../24-x11proto-xext-dev_7.3.0-1_all.deb ...
Unpacking x11proto-xext-dev (7.3.0-1) ...
Selecting previously unselected package libxext-dev:amd64.
Preparing to unpack .../25-libxext-dev_2%3a1.3.3-1+b2_amd64.deb ...
Unpacking libxext-dev:amd64 (2:1.3.3-1+b2) ...
Selecting previously unselected package libxxf86vm1:amd64.
Preparing to unpack .../26-libxxf86vm1_1%3a1.1.4-1+b2_amd64.deb ...
Unpacking libxxf86vm1:amd64 (1:1.1.4-1+b2) ...
Selecting previously unselected package x11proto-xf86vidmode-dev.
Preparing to unpack .../27-x11proto-xf86vidmode-dev_2.3.1-2_all.deb ...
Unpacking x11proto-xf86vidmode-dev (2.3.1-2) ...
Selecting previously unselected package libxxf86vm-dev:amd64.
Preparing to unpack .../28-libxxf86vm-dev_1%3a1.1.4-1+b2_amd64.deb ...
Unpacking libxxf86vm-dev:amd64 (1:1.1.4-1+b2) ...
Selecting previously unselected package libxfixes3:amd64.
Preparing to unpack .../29-libxfixes3_1%3a5.0.3-1_amd64.deb ...
Unpacking libxfixes3:amd64 (1:5.0.3-1) ...
Selecting previously unselected package libxdamage1:amd64.
Preparing to unpack .../30-libxdamage1_1%3a1.1.4-2+b3_amd64.deb ...
Unpacking libxdamage1:amd64 (1:1.1.4-2+b3) ...
Selecting previously unselected package x11proto-fixes-dev.
Preparing to unpack .../31-x11proto-fixes-dev_1%3a5.0-2_all.deb ...
Unpacking x11proto-fixes-dev (1:5.0-2) ...
Selecting previously unselected package libxfixes-dev:amd64.
Preparing to unpack .../32-libxfixes-dev_1%3a5.0.3-1_amd64.deb ...
Unpacking libxfixes-dev:amd64 (1:5.0.3-1) ...
Selecting previously unselected package x11proto-damage-dev.
Preparing to unpack .../33-x11proto-damage-dev_1%3a1.2.1-2_all.deb ...
Unpacking x11proto-damage-dev (1:1.2.1-2) ...
Selecting previously unselected package libxdamage-dev:amd64.
Preparing to unpack .../34-libxdamage-dev_1%3a1.1.4-2+b3_amd64.deb ...
Unpacking libxdamage-dev:amd64 (1:1.1.4-2+b3) ...
Selecting previously unselected package libxcb-glx0:amd64.
Preparing to unpack .../35-libxcb-glx0_1.12-1_amd64.deb ...
Unpacking libxcb-glx0:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-glx0-dev:amd64.
Preparing to unpack .../36-libxcb-glx0-dev_1.12-1_amd64.deb ...
Unpacking libxcb-glx0-dev:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-dri2-0-dev:amd64.
Preparing to unpack .../37-libxcb-dri2-0-dev_1.12-1_amd64.deb ...
Unpacking libxcb-dri2-0-dev:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-dri3-dev:amd64.
Preparing to unpack .../38-libxcb-dri3-dev_1.12-1_amd64.deb ...
Unpacking libxcb-dri3-dev:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-randr0:amd64.
Preparing to unpack .../39-libxcb-randr0_1.12-1_amd64.deb ...
Unpacking libxcb-randr0:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-render0:amd64.
Preparing to unpack .../40-libxcb-render0_1.12-1_amd64.deb ...
Unpacking libxcb-render0:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-render0-dev:amd64.
Preparing to unpack .../41-libxcb-render0-dev_1.12-1_amd64.deb ...
Unpacking libxcb-render0-dev:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-randr0-dev:amd64.
Preparing to unpack .../42-libxcb-randr0-dev_1.12-1_amd64.deb ...
Unpacking libxcb-randr0-dev:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-shape0:amd64.
Preparing to unpack .../43-libxcb-shape0_1.12-1_amd64.deb ...
Unpacking libxcb-shape0:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-shape0-dev:amd64.
Preparing to unpack .../44-libxcb-shape0-dev_1.12-1_amd64.deb ...
Unpacking libxcb-shape0-dev:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-xfixes0-dev:amd64.
Preparing to unpack .../45-libxcb-xfixes0-dev_1.12-1_amd64.deb ...
Unpacking libxcb-xfixes0-dev:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-sync-dev:amd64.
Preparing to unpack .../46-libxcb-sync-dev_1.12-1_amd64.deb ...
Unpacking libxcb-sync-dev:amd64 (1.12-1) ...
Selecting previously unselected package libxcb-present-dev:amd64.
Preparing to unpack .../47-libxcb-present-dev_1.12-1_amd64.deb ...
Unpacking libxcb-present-dev:amd64 (1.12-1) ...
Selecting previously unselected package libxshmfence-dev:amd64.
Preparing to unpack .../48-libxshmfence-dev_1.2-1+b2_amd64.deb ...
Unpacking libxshmfence-dev:amd64 (1.2-1+b2) ...
Selecting previously unselected package libx11-xcb-dev:amd64.
Preparing to unpack .../49-libx11-xcb-dev_2%3a1.6.4-3_amd64.deb ...
Unpacking libx11-xcb-dev:amd64 (2:1.6.4-3) ...
Selecting previously unselected package libwayland-cursor0:amd64.
Preparing to unpack .../50-libwayland-cursor0_1.12.0-1_amd64.deb ...
Unpacking libwayland-cursor0:amd64 (1.12.0-1) ...
Selecting previously unselected package libwayland-bin.
Preparing to unpack .../51-libwayland-bin_1.12.0-1_amd64.deb ...
Unpacking libwayland-bin (1.12.0-1) ...
Selecting previously unselected package libwayland-dev:amd64.
Preparing to unpack .../52-libwayland-dev_1.12.0-1_amd64.deb ...
Unpacking libwayland-dev:amd64 (1.12.0-1) ...
Selecting previously unselected package libegl1-mesa-dev:amd64.
Preparing to unpack .../53-libegl1-mesa-dev_13.0.6-1+b2_amd64.deb ...
Unpacking libegl1-mesa-dev:amd64 (13.0.6-1+b2) ...
Selecting previously unselected package libglapi-mesa:amd64.
Preparing to unpack .../54-libglapi-mesa_13.0.6-1+b2_amd64.deb ...
Unpacking libglapi-mesa:amd64 (13.0.6-1+b2) ...
Selecting previously unselected package libgles2-mesa:amd64.
Preparing to unpack .../55-libgles2-mesa_13.0.6-1+b2_amd64.deb ...
Unpacking libgles2-mesa:amd64 (13.0.6-1+b2) ...
Selecting previously unselected package libgles2-mesa-dev:amd64.
Preparing to unpack .../56-libgles2-mesa-dev_13.0.6-1+b2_amd64.deb ...
Unpacking libgles2-mesa-dev:amd64 (13.0.6-1+b2) ...
Selecting previously unselected package libglib2.0-0:amd64.
Preparing to unpack .../57-libglib2.0-0_2.50.3-2_amd64.deb ...
Unpacking libglib2.0-0:amd64 (2.50.3-2) ...
Selecting previously unselected package libglib2.0-data.
Preparing to unpack .../58-libglib2.0-data_2.50.3-2_all.deb ...
Unpacking libglib2.0-data (2.50.3-2) ...
Selecting previously unselected package pkg-config.
Preparing to unpack .../59-pkg-config_0.29-4+b1_amd64.deb ...
Unpacking pkg-config (0.29-4+b1) ...
Selecting previously unselected package shared-mime-info.
Preparing to unpack .../60-shared-mime-info_1.8-1+deb9u1_amd64.deb ...
Unpacking shared-mime-info (1.8-1+deb9u1) ...
Selecting previously unselected package xdg-user-dirs.
Preparing to unpack .../61-xdg-user-dirs_0.15-2+b1_amd64.deb ...
Unpacking xdg-user-dirs (0.15-2+b1) ...
Selecting previously unselected package xml-core.
Preparing to unpack .../62-xml-core_0.17_all.deb ...
Unpacking xml-core (0.17) ...
Setting up libxcb-present0:amd64 (1.12-1) ...
Setting up x11proto-dri2-dev (2.8-2) ...
Setting up libxcb-dri2-0:amd64 (1.12-1) ...
Setting up libxcb-dri3-0:amd64 (1.12-1) ...
Setting up libxcb-glx0:amd64 (1.12-1) ...
Setting up libxcb-randr0:amd64 (1.12-1) ...
Setting up libxcb-xfixes0:amd64 (1.12-1) ...
Setting up libxcb-render0:amd64 (1.12-1) ...
Setting up libxfixes3:amd64 (1:5.0.3-1) ...
Setting up libglib2.0-0:amd64 (2.50.3-2) ...
No schema files found: doing nothing.
Setting up libxshmfence1:amd64 (1.2-1+b2) ...
Setting up libwayland-client0:amd64 (1.12.0-1) ...
Setting up x11proto-xf86vidmode-dev (2.3.1-2) ...
Setting up libglapi-mesa:amd64 (13.0.6-1+b2) ...
Setting up sgml-base (1.29) ...
Setting up libicu57:amd64 (57.1-6+deb9u2) ...
Setting up libxml2:amd64 (2.9.4+dfsg1-2.2+deb9u2) ...
Setting up libdrm2:amd64 (2.4.74-1) ...
Setting up libxcb-sync1:amd64 (1.12-1) ...
Setting up libxcb-dri2-0-dev:amd64 (1.12-1) ...
Setting up libxcb-render0-dev:amd64 (1.12-1) ...
Setting up pkg-config (0.29-4+b1) ...
Setting up libx11-xcb1:amd64 (2:1.6.4-3) ...
Setting up libxcb-dri3-dev:amd64 (1.12-1) ...
Setting up x11proto-xext-dev (7.3.0-1) ...
Setting up libglib2.0-data (2.50.3-2) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Setting up libxext-dev:amd64 (2:1.3.3-1+b2) ...
Setting up x11proto-gl-dev (1.4.17-1) ...
Setting up libpciaccess0:amd64 (0.13.4-1+b2) ...
Setting up libxcb-shape0:amd64 (1.12-1) ...
Setting up libxcb-glx0-dev:amd64 (1.12-1) ...
Setting up shared-mime-info (1.8-1+deb9u1) ...
Setting up libdrm-radeon1:amd64 (2.4.74-1) ...
Setting up xml-core (0.17) ...
Setting up libxxf86vm1:amd64 (1:1.1.4-1+b2) ...
Setting up libdrm-nouveau2:amd64 (2.4.74-1) ...
Setting up libxxf86vm-dev:amd64 (1:1.1.4-1+b2) ...
Setting up libgles2-mesa:amd64 (13.0.6-1+b2) ...
Setting up xdg-user-dirs (0.15-2+b1) ...
Setting up libwayland-cursor0:amd64 (1.12.0-1) ...
Setting up libxcb-sync-dev:amd64 (1.12-1) ...
Setting up libwayland-server0:amd64 (1.12.0-1) ...
Setting up libwayland-bin (1.12.0-1) ...
Setting up libx11-xcb-dev:amd64 (2:1.6.4-3) ...
Setting up libxcb-randr0-dev:amd64 (1.12-1) ...
Setting up libxdamage1:amd64 (1:1.1.4-2+b3) ...
Setting up libdrm-amdgpu1:amd64 (2.4.74-1) ...
Setting up libxshmfence-dev:amd64 (1.2-1+b2) ...
Setting up x11proto-fixes-dev (1:5.0-2) ...
Setting up libgbm1:amd64 (13.0.6-1+b2) ...
Setting up x11proto-damage-dev (1:1.2.1-2) ...
Setting up libdrm-intel1:amd64 (2.4.74-1) ...
Setting up libxcb-shape0-dev:amd64 (1.12-1) ...
Setting up libwayland-dev:amd64 (1.12.0-1) ...
Setting up libxfixes-dev:amd64 (1:5.0.3-1) ...
Setting up libegl1-mesa:amd64 (13.0.6-1+b2) ...
Setting up libxcb-xfixes0-dev:amd64 (1.12-1) ...
Setting up libdrm-dev:amd64 (2.4.74-1) ...
Setting up libxdamage-dev:amd64 (1:1.1.4-2+b3) ...
Setting up libwayland-egl1-mesa:amd64 (13.0.6-1+b2) ...
Setting up libxcb-present-dev:amd64 (1.12-1) ...
Setting up libegl1-mesa-dev:amd64 (13.0.6-1+b2) ...
Setting up libgles2-mesa-dev:amd64 (13.0.6-1+b2) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Processing triggers for sgml-base (1.29) ...
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install result          1.3    [required by wall]
  - install grenier         0.7    [required by wall]
  - install ocamlbuild      0.12.0 [required by gg]
  - install conf-pkg-config 1.1    [required by conf-gles2]
  - install stb_truetype    0.6    [required by wall]
  - install stb_image       0.4    [required by wall]
  - install topkg           0.9.1  [required by gg]
  - install conf-gles2      1      [required by wall]
  - install gg              0.9.2  [required by wall]
  - install wall            0.2
===== 10 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[gg.0.9.2] found in cache
[grenier.0.7] found in cache
[ocamlbuild.0.12.0] found in cache
[result.1.3] found in cache
[stb_image.0.4] found in cache
[stb_truetype.0.6] found in cache
[topkg.0.9.1] found in cache
[wall.0.2] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed conf-pkg-config.1.1
-> installed conf-gles2.1
-> installed grenier.0.7
-> installed result.1.3
-> installed ocamlbuild.0.12.0
-> installed stb_truetype.0.6
-> installed topkg.0.9.1
-> installed stb_image.0.4
-> installed gg.0.9.2
[ERROR] The compilation of wall failed at "/home/opam/.opam/4.08/bin/jbuilder build -p wall -j 71".

#=== ERROR while compiling wall.0.2 ===========================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-variants.4.08.0+trunk | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.08/.opam-switch/build/wall.0.2
# command              ~/.opam/4.08/bin/jbuilder build -p wall -j 71
# exit-code            1
# env-file             ~/.opam/log/wall-11-df4f27.env
# output-file          ~/.opam/log/wall-11-df4f27.out
### output ###
#        ocaml (internal) (exit 2)
# (cd lib && /home/opam/.opam/4.08/bin/ocaml -I +compiler-libs /home/opam/.opam/4.08/.opam-switch/build/wall.0.2/_build/.jbuilds/default/lib/jbuild.ml)
# Exception: Failure "int_of_string".



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build wall 0.2
+- 
+- The following changes have been performed
| - install conf-gles2      1
| - install conf-pkg-config 1.1
| - install gg              0.9.2
| - install grenier         0.7
| - install ocamlbuild      0.12.0
| - install result          1.3
| - install stb_image       0.4
| - install stb_truetype    0.6
| - install topkg           0.9.1
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.08/.opam-switch/backup/state-20180722203324.export"
31 1532291593 1532291620