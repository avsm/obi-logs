$ opam depext -iy -j 2 parmap.1.0-rc2
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=alpine, os-family=alpine
# The following system packages are needed:
autoconf
automake
m4
m4
# The following new OS packages need to be installed: autoconf automake
The following command needs to be run through "sudo":
    apk add autoconf automake
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/x86_64/APKINDEX.tar.gz
(1/4) Installing libbz2 (1.0.6-r6)
(2/4) Installing perl (5.26.2-r1)
(3/4) Installing autoconf (2.69-r0)
(4/4) Installing automake (1.15.1-r0)
Executing busybox-1.27.2-r11.trigger
OK: 244 MiB in 77 packages
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-which    1       [required by conf-aclocal, conf-autoconf]
  - install ocamlbuild    0.12.0  [required by parmap]
  - install conf-autoconf 0.1     [required by parmap]
  - install conf-aclocal  1.0.0   [required by parmap]
  - install camlp4        4.06+1  [required by parmap]
  - install parmap        1.0-rc2
===== 6 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[camlp4.4.06+1] found in cache
[ocamlbuild.0.12.0] found in cache
[parmap.1.0-rc2] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed conf-which.1
-> installed conf-aclocal.1.0.0
-> installed conf-autoconf.0.1
-> installed ocamlbuild.0.12.0
-> installed camlp4.4.06+1
[ERROR] The compilation of parmap failed at "/usr/bin/make DESTDIR=/home/opam/.opam/4.06 OCAMLLIBDIR=lib".

#=== ERROR while compiling parmap.1.0-rc2 =====================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/parmap.1.0-rc2
# command              /usr/bin/make DESTDIR=/home/opam/.opam/4.06 OCAMLLIBDIR=lib
# exit-code            2
# env-file             ~/.opam/log/parmap-13-ab22a1.env
# output-file          ~/.opam/log/parmap-13-ab22a1.out
### output ###
# ocamlbuild -j 10 -use-ocamlfind  parmap.cma  parmap.cmxa  parmap.cmxs parmap.a
# ocamlfind ocamlc -ccopt -D_GNU_SOURCE -ccopt -fPIC -c bytearray_stubs.c
# ocamlfind ocamlc -ccopt -D_GNU_SOURCE -ccopt -fPIC -c setcore_stubs.c
# ocamlfind ocamlmklib -o parmap_stubs bytearray_stubs.o setcore_stubs.o
# ocamlfind ocamldep -package unix -package bigarray -modules parmap.mli > parmap.mli.depends
# ocamlfind ocamlc -c -annot -package unix -package bigarray -o parmap.cmi parmap.mli
# ocamlfind ocamldep -package unix -package bigarray -modules parmap.ml > parmap.ml.depends
# ocamlfind ocamldep -package unix -package bigarray -modules bytearray.mli > bytearray.mli.depends
# ocamlfind ocamldep -package unix -package bigarray -modules parmap_utils.ml > parmap_utils.ml.depends
# ocamlfind ocamldep -package unix -package bigarray -modules setcore.mli > setcore.mli.depends
# ocamlfind ocamlc -c -annot -package unix -package bigarray -o bytearray.cmi bytearray.mli
# ocamlfind ocamlc -c -annot -package unix -package bigarray -o parmap_utils.cmo parmap_utils.ml
# ocamlfind ocamlc -c -annot -package unix -package bigarray -o setcore.cmi setcore.mli
# ocamlfind ocamldep -package unix -package bigarray -modules bytearray.ml > bytearray.ml.depends
# ocamlfind ocamlc -c -annot -package unix -package bigarray -o parmap.cmo parmap.ml
# ocamlfind ocamlc -c -annot -package unix -package bigarray -o bytearray.cmo bytearray.ml
# + ocamlfind ocamlc -c -annot -package unix -package bigarray -o bytearray.cmo bytearray.ml
# File "bytearray.ml", line 38, characters 0-118:
# Warning 3: deprecated: [@@noalloc] should be used instead of "noalloc"
# File "bytearray.ml", line 41, characters 0-116:
# Warning 3: deprecated: [@@noalloc] should be used instead of "noalloc"
# File "bytearray.ml", line 47, characters 10-23:
# Warning 3: deprecated: String.create
# Use Bytes.create instead.
# File "bytearray.ml", line 48, characters 28-29:
# Error: This expression has type bytes but an expression was expected of type
#          string
# Command exited with code 2.
# make: *** [Makefile:44: all] Error 10



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build parmap 1.0-rc2
+- 
+- The following changes have been performed
| - install camlp4        4.06+1
| - install conf-aclocal  1.0.0
| - install conf-autoconf 0.1
| - install conf-which    1
| - install ocamlbuild    0.12.0
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180722130507.export"
31 1532264704 1532264819