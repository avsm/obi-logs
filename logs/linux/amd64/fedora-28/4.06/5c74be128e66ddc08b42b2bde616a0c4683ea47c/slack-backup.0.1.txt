$ opam depext -iy -j 2 slack-backup.0.1
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=fedora, os-family=fedora
# The following system packages are needed:
m4
openssl-devel
pkgconfig
which
Name        : m4
Version     : 1.4.18
Release     : 6.fc28
Architecture: x86_64
Install Date: Sun Aug 12 20:16:44 2018
Group       : Applications/Text
Size        : 372272
License     : GPLv3+
Signature   : RSA/SHA256, Sun Feb 25 11:01:47 2018, Key ID e08e7e629db62fb1
Source RPM  : m4-1.4.18-6.fc28.src.rpm
Build Date  : Sun Feb 25 10:58:14 2018
Build Host  : buildvm-25.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://www.gnu.org/software/m4/
Bug URL     : https://bugz.fedoraproject.org/m4
Summary     : The GNU macro processor
Description :
A GNU implementation of the traditional UNIX macro processor.  M4 is
useful for writing text files which can be logically parsed, and is used
by many programs as part of their build process.  M4 has built-in
functions for including files, running shell commands, doing arithmetic,
etc.  The autoconf program needs m4 for generating configure scripts, but
not for running configure scripts.

Install m4 if you need a macro processor.
package openssl-devel is not installed
package pkgconfig is not installed
Name        : which
Version     : 2.21
Release     : 8.fc28
Architecture: x86_64
Install Date: Sun Aug 12 06:36:45 2018
Group       : Unspecified
Size        : 79310
License     : GPLv3
Signature   : RSA/SHA256, Fri Feb 16 17:11:18 2018, Key ID e08e7e629db62fb1
Source RPM  : which-2.21-8.fc28.src.rpm
Build Date  : Fri Feb 16 17:06:50 2018
Build Host  : buildvm-05.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : https://savannah.gnu.org/projects/which/
Summary     : Displays where a particular program in your path is located
Description :
The which command shows the full pathname of a specified program, if
the specified program is in your PATH.
# The following new OS packages need to be installed: openssl-devel pkgconfig
The following command needs to be run through "sudo":
    yum install -y openssl-devel pkgconfig
Last metadata expiration check: 0:00:00 ago on Mon Aug 13 06:04:23 2018.
Package pkgconf-pkg-config-1.4.2-1.fc28.x86_64 is already installed, skipping.
Dependencies resolved.
================================================================================
 Package                  Arch        Version                Repository    Size
================================================================================
Installing:
 openssl-devel            x86_64      1:1.1.0h-3.fc28        fedora       1.9 M
Installing dependencies:
 keyutils-libs-devel      x86_64      1.5.10-6.fc28          fedora        47 k
 krb5-devel               x86_64      1.16.1-13.fc28         updates      545 k
 libcom_err-devel         x86_64      1.44.2-0.fc28          updates       37 k
 libkadm5                 x86_64      1.16.1-13.fc28         updates      182 k
 libselinux-devel         x86_64      2.8-1.fc28             updates      197 k
 libsepol-devel           x86_64      2.8-1.fc28             updates       84 k
 libverto-devel           x86_64      0.3.0-5.fc28           fedora        17 k
 pcre2-devel              x86_64      10.31-8.fc28           updates      589 k
 pcre2-utf16              x86_64      10.31-8.fc28           updates      221 k
 pcre2-utf32              x86_64      10.31-8.fc28           updates      213 k
 zlib-devel               x86_64      1.2.11-8.fc28          updates       55 k

Transaction Summary
================================================================================
Install  12 Packages

Total download size: 4.1 M
Installed size: 7.6 M
Downloading Packages:
(1/12): libkadm5-1.16.1-13.fc28.x86_64.rpm      1.4 MB/s | 182 kB     00:00    
(2/12): zlib-devel-1.2.11-8.fc28.x86_64.rpm     6.3 MB/s |  55 kB     00:00    
(3/12): krb5-devel-1.16.1-13.fc28.x86_64.rpm    3.7 MB/s | 545 kB     00:00    
(4/12): libcom_err-devel-1.44.2-0.fc28.x86_64.r 4.4 MB/s |  37 kB     00:00    
(5/12): libselinux-devel-2.8-1.fc28.x86_64.rpm   13 MB/s | 197 kB     00:00    
(6/12): libsepol-devel-2.8-1.fc28.x86_64.rpm    6.2 MB/s |  84 kB     00:00    
(7/12): openssl-devel-1.1.0h-3.fc28.x86_64.rpm  8.4 MB/s | 1.9 MB     00:00    
(8/12): keyutils-libs-devel-1.5.10-6.fc28.x86_6 574 kB/s |  47 kB     00:00    
(9/12): libverto-devel-0.3.0-5.fc28.x86_64.rpm  180 kB/s |  17 kB     00:00    
(10/12): pcre2-utf16-10.31-8.fc28.x86_64.rpm     11 MB/s | 221 kB     00:00    
(11/12): pcre2-devel-10.31-8.fc28.x86_64.rpm     12 MB/s | 589 kB     00:00    
(12/12): pcre2-utf32-10.31-8.fc28.x86_64.rpm    3.0 MB/s | 213 kB     00:00    
--------------------------------------------------------------------------------
Total                                           3.9 MB/s | 4.1 MB     00:01     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : pcre2-utf32-10.31-8.fc28.x86_64                       1/12 
  Installing       : pcre2-utf16-10.31-8.fc28.x86_64                       2/12 
  Installing       : pcre2-devel-10.31-8.fc28.x86_64                       3/12 
  Installing       : libverto-devel-0.3.0-5.fc28.x86_64                    4/12 
  Installing       : keyutils-libs-devel-1.5.10-6.fc28.x86_64              5/12 
  Installing       : libsepol-devel-2.8-1.fc28.x86_64                      6/12 
  Installing       : libselinux-devel-2.8-1.fc28.x86_64                    7/12 
  Installing       : libcom_err-devel-1.44.2-0.fc28.x86_64                 8/12 
  Installing       : zlib-devel-1.2.11-8.fc28.x86_64                       9/12 
  Installing       : libkadm5-1.16.1-13.fc28.x86_64                       10/12 
  Installing       : krb5-devel-1.16.1-13.fc28.x86_64                     11/12 
  Installing       : openssl-devel-1:1.1.0h-3.fc28.x86_64                 12/12 
  Running scriptlet: openssl-devel-1:1.1.0h-3.fc28.x86_64                 12/12 
  Verifying        : openssl-devel-1:1.1.0h-3.fc28.x86_64                  1/12 
  Verifying        : krb5-devel-1.16.1-13.fc28.x86_64                      2/12 
  Verifying        : libkadm5-1.16.1-13.fc28.x86_64                        3/12 
  Verifying        : zlib-devel-1.2.11-8.fc28.x86_64                       4/12 
  Verifying        : libcom_err-devel-1.44.2-0.fc28.x86_64                 5/12 
  Verifying        : libselinux-devel-2.8-1.fc28.x86_64                    6/12 
  Verifying        : libsepol-devel-2.8-1.fc28.x86_64                      7/12 
  Verifying        : keyutils-libs-devel-1.5.10-6.fc28.x86_64              8/12 
  Verifying        : libverto-devel-0.3.0-5.fc28.x86_64                    9/12 
  Verifying        : pcre2-devel-10.31-8.fc28.x86_64                      10/12 
  Verifying        : pcre2-utf16-10.31-8.fc28.x86_64                      11/12 
  Verifying        : pcre2-utf32-10.31-8.fc28.x86_64                      12/12 

Installed:
  openssl-devel.x86_64 1:1.1.0h-3.fc28 keyutils-libs-devel.x86_64 1.5.10-6.fc28
  krb5-devel.x86_64 1.16.1-13.fc28     libcom_err-devel.x86_64 1.44.2-0.fc28   
  libkadm5.x86_64 1.16.1-13.fc28       libselinux-devel.x86_64 2.8-1.fc28      
  libsepol-devel.x86_64 2.8-1.fc28     libverto-devel.x86_64 0.3.0-5.fc28      
  pcre2-devel.x86_64 10.31-8.fc28      pcre2-utf16.x86_64 10.31-8.fc28         
  pcre2-utf32.x86_64 10.31-8.fc28      zlib-devel.x86_64 1.2.11-8.fc28         

Complete!
The following command needs to be run through "sudo":
    rpm -q --whatprovides openssl-devel pkgconfig
openssl-devel-1.1.0h-3.fc28.x86_64
pkgconf-pkg-config-1.4.2-1.fc28.x86_64
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install magic-mime              1.1.0      [required by cohttp]
  - install ppx_tools               5.1+4.06.0 [required by ppx_deriving]
  - install re                      1.7.3      [required by cohttp]
  - install base-bytes              base       [required by cohttp]
  - install ocaml-compiler-libs     v0.9.0     [required by ppx_core]
  - install conf-pkg-config         1.1        [required by conf-openssl]
  - install num                     1.1        [required by sexplib]
  - install easy-format             1.3.1      [required by yojson]
  - install ppx_derivers            1.0        [required by ppx_deriving]
  - install result                  1.3        [required by slack-backup]
  - install conf-which              1          [required by ssl, biniou]
  - install ocamlbuild              0.12.0     [required by cmdliner]
  - install ppx_traverse_builtins   v0.9.0     [required by ppx_core, ppx_metaquot]
  - install stringext               1.5.0      [required by cohttp]
  - install cppo                    1.6.4      [required by ppx_deriving_yojson]
  - install base64                  2.2.0      [required by cohttp]
  - install conf-openssl            1          [required by ssl]
  - install sexplib                 v0.9.3     [required by cohttp]
  - install ocaml-migrate-parsetree 1.0.11     [required by fieldslib, ppx_fields_conv]
  - install biniou                  1.2.0      [required by yojson]
  - install uchar                   0.0.2      [required by fmt]
  - install topkg                   0.9.1      [required by cmdliner]
  - install cppo_ocamlbuild         1.6.0      [required by ppx_deriving_yojson]
  - install ssl                     0.5.5      [required by slacko]
  - install base                    v0.9.4     [required by fieldslib]
  - install ppx_tools_versioned     5.2        [required by lwt]
  - install ppx_ast                 v0.9.2     [required by ppx_core]
  - install yojson                  1.4.1      [required by slacko]
  - install cmdliner                1.0.2      [required by slack-backup]
  - install ppx_deriving            4.2.1      [required by cohttp, ppx_deriving_yojson]
  - install stdio                   v0.9.1     [required by ppx_core]
  - install lwt                     3.3.0      [required by slacko]                              For the PPX, please install package lwt_ppx
                                                                                                 For Lwt_log and Lwt_daemon, please install package lwt_log
  - install fmt                     0.8.5      [required by cohttp]
  - install ppx_deriving_yojson     3.1        [required by slacko]
  - install ppx_core                v0.9.3     [required by ppx_fields_conv]
  - install logs                    0.6.2      [required by cohttp]
  - install ppx_optcomp             v0.9.0     [required by conduit]
  - install ppx_driver              v0.9.2     [required by fieldslib, conduit, ppx_fields_conv]
  - install ppx_metaquot            v0.9.0     [required by ppx_fields_conv]
  - install fieldslib               v0.9.0     [required by cohttp]
  - install ppx_type_conv           v0.9.1     [required by ppx_fields_conv]
  - install ppx_sexp_conv           v0.9.0     [required by cohttp]
  - install ppx_fields_conv         v0.9.0     [required by cohttp]
  - install uri                     1.9.7      [required by cohttp]
  - install ipaddr                  2.8.0      [required by conduit]
  - install conduit                 0.15.4     [required by cohttp]
  - install cohttp                  0.22.0     [required by slacko]
  - install slacko                  0.13.0     [required by slack-backup]
  - install slack-backup            0.1
===== 49 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[base.v0.9.4] found in cache
[base64.2.2.0] found in cache
[biniou.1.2.0] found in cache
[cmdliner.1.0.2] found in cache
[cohttp.0.22.0] found in cache
[conduit.0.15.4] found in cache
[cppo.1.6.4] found in cache
[cppo_ocamlbuild.1.6.0] found in cache
[easy-format.1.3.1] found in cache
[fieldslib.v0.9.0] found in cache
[fmt.0.8.5] found in cache
[ipaddr.2.8.0] found in cache
[logs.0.6.2] found in cache
[lwt.3.3.0] found in cache
[magic-mime.1.1.0] found in cache
[num.1.1] found in cache
[ocaml-compiler-libs.v0.9.0] found in cache
[ocaml-migrate-parsetree.1.0.11] found in cache
[ocamlbuild.0.12.0] found in cache
[ppx_ast.v0.9.2] found in cache
[ppx_core.v0.9.3] found in cache
[ppx_derivers.1.0] found in cache
[ppx_deriving.4.2.1] found in cache
[ppx_deriving_yojson.3.1] found in cache
[ppx_driver.v0.9.2] found in cache
[ppx_fields_conv.v0.9.0] found in cache
[ppx_metaquot.v0.9.0] found in cache
[ppx_optcomp.v0.9.0] found in cache
[ppx_sexp_conv.v0.9.0] found in cache
[ppx_tools.5.1+4.06.0] found in cache
[ppx_tools_versioned.5.2] found in cache
[ppx_traverse_builtins.v0.9.0] found in cache
[ppx_type_conv.v0.9.1] found in cache
[re.1.7.3] found in cache
[result.1.3] found in cache
[sexplib.v0.9.3] found in cache
[slack-backup.0.1] found in cache
[slacko.0.13.0] found in cache
[ssl.0.5.5] found in cache
[stdio.v0.9.1] found in cache
[stringext.1.5.0] found in cache
[topkg.0.9.1] found in cache
[uchar.0.0.2] found in cache
[uri.1.9.7] found in cache
[yojson.1.4.1] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed base-bytes.base
-> installed base64.2.2.0
-> installed conf-pkg-config.1.1
-> installed conf-which.1
-> installed cppo.1.6.4
-> installed easy-format.1.3.1
-> installed conf-openssl.1
-> installed biniou.1.2.0
-> installed magic-mime.1.1.0
-> installed num.1.1
-> installed ocaml-compiler-libs.v0.9.0
-> installed ocamlbuild.0.12.0
-> installed cppo_ocamlbuild.1.6.0
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.1+4.06.0
-> installed ppx_traverse_builtins.v0.9.0
-> installed re.1.7.3
-> installed result.1.3
-> installed ocaml-migrate-parsetree.1.0.11
-> installed ppx_ast.v0.9.2
-> installed ppx_tools_versioned.5.2
-> installed ppx_deriving.4.2.1
-> installed sexplib.v0.9.3
-> installed lwt.3.3.0
-> installed ssl.0.5.5
-> installed base.v0.9.4
-> installed stringext.1.5.0
-> installed topkg.0.9.1
-> installed stdio.v0.9.1
-> installed cmdliner.1.0.2
-> installed uchar.0.0.2
-> installed fmt.0.8.5
-> installed ppx_core.v0.9.3
-> installed logs.0.6.2
-> installed yojson.1.4.1
-> installed ppx_optcomp.v0.9.0
-> installed ppx_deriving_yojson.3.1
-> installed ppx_driver.v0.9.2
-> installed fieldslib.v0.9.0
-> installed ppx_metaquot.v0.9.0
-> installed ppx_type_conv.v0.9.1
-> installed ppx_fields_conv.v0.9.0
-> installed ppx_sexp_conv.v0.9.0
-> installed ipaddr.2.8.0
-> installed uri.1.9.7
-> installed conduit.0.15.4
-> installed cohttp.0.22.0
-> installed slacko.0.13.0
[ERROR] The compilation of slack-backup failed at "/home/opam/.opam/4.06/bin/ocaml setup.ml -build".

#=== ERROR while compiling slack-backup.0.1 ===================================#
# context              2.0.0 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/slack-backup.0.1
# command              ~/.opam/4.06/bin/ocaml setup.ml -build
# exit-code            1
# env-file             ~/.opam/log/slack-backup-9-e729e4.env
# output-file          ~/.opam/log/slack-backup-9-e729e4.out
### output ###
# File "./setup.ml", line 318, characters 20-36:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 318, characters 42-58:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 327, characters 14-30:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 327, characters 38-54:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 330, characters 25-41:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 368, characters 10-26:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 474, characters 13-29:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 1825, characters 16-33:
# Warning 3: deprecated: String.capitalize
# Use String.capitalize_ascii instead.
# File "./setup.ml", line 1831, characters 16-35:
# Warning 3: deprecated: String.uncapitalize
# Use String.uncapitalize_ascii instead.
# File "setup.ml", line 5847, characters 11-28:
# Warning 3: deprecated: String.capitalize
# Use String.capitalize_ascii instead.
# File "setup.ml", line 5848, characters 11-30:
# Warning 3: deprecated: String.uncapitalize
# Use String.uncapitalize_ascii instead.
# /home/opam/.opam/4.06/bin/ocamlopt.opt unix.cmxa -I /home/opam/.opam/4.06/lib/ocamlbuild /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuildlib.cmxa myocamlbuild.ml /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -package result -package slacko -modules lib/slack_backup_lib.mli > lib/slack_backup_lib.mli.depends
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -package result -package slacko -I lib -o lib/slack_backup_lib.cmi lib/slack_backup_lib.mli
# + /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -package result -package slacko -I lib -o lib/slack_backup_lib.cmi lib/slack_backup_lib.mli
# ocamlfind: [WARNING] Package `threads': Linking problems may arise because of the missing -thread or -vmthread switch
# File "lib/slack_backup_lib.mli", line 44, characters 6-26:
# Error: Unbound type constructor Slacko.authed_result
# Command exited with code 2.
# + /home/opam/.opam/4.06/bin/ocamlopt.opt unix.cmxa -I /home/opam/.opam/4.06/lib/ocamlbuild /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuildlib.cmxa myocamlbuild.ml /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# File "myocamlbuild.ml", line 518, characters 43-62:
# Warning 3: deprecated: Ocamlbuild_plugin.String.uncapitalize
# Use String.uncapitalize_ascii instead.
# File "myocamlbuild.ml", line 531, characters 51-70:
# Warning 3: deprecated: Ocamlbuild_plugin.String.uncapitalize
# Use String.uncapitalize_ascii instead.
# E: Failure("Command ''/home/opam/.opam/4.06/bin/ocamlbuild' lib/slack_backup_lib.cma lib/slack_backup_lib.cmxa lib/slack_backup_lib.a lib/slack_backup_lib.cmxs src/slack_backup.native -tag debug' terminated with error code 10")



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build slack-backup 0.1
+- 
+- The following changes have been performed
| - install base                    v0.9.4
| - install base-bytes              base
| - install base64                  2.2.0
| - install biniou                  1.2.0
| - install cmdliner                1.0.2
| - install cohttp                  0.22.0
| - install conduit                 0.15.4
| - install conf-openssl            1
| - install conf-pkg-config         1.1
| - install conf-which              1
| - install cppo                    1.6.4
| - install cppo_ocamlbuild         1.6.0
| - install easy-format             1.3.1
| - install fieldslib               v0.9.0
| - install fmt                     0.8.5
| - install ipaddr                  2.8.0
| - install logs                    0.6.2
| - install lwt                     3.3.0
| - install magic-mime              1.1.0
| - install num                     1.1
| - install ocaml-compiler-libs     v0.9.0
| - install ocaml-migrate-parsetree 1.0.11
| - install ocamlbuild              0.12.0
| - install ppx_ast                 v0.9.2
| - install ppx_core                v0.9.3
| - install ppx_derivers            1.0
| - install ppx_deriving            4.2.1
| - install ppx_deriving_yojson     3.1
| - install ppx_driver              v0.9.2
| - install ppx_fields_conv         v0.9.0
| - install ppx_metaquot            v0.9.0
| - install ppx_optcomp             v0.9.0
| - install ppx_sexp_conv           v0.9.0
| - install ppx_tools               5.1+4.06.0
| - install ppx_tools_versioned     5.2
| - install ppx_traverse_builtins   v0.9.0
| - install ppx_type_conv           v0.9.1
| - install re                      1.7.3
| - install result                  1.3
| - install sexplib                 v0.9.3
| - install slacko                  0.13.0
| - install ssl                     0.5.5
| - install stdio                   v0.9.1
| - install stringext               1.5.0
| - install topkg                   0.9.1
| - install uchar                   0.0.2
| - install uri                     1.9.7
| - install yojson                  1.4.1
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180813060429.export"
31 1534140258 1534140440