$ opam depext -iy -j 2 extprot.1.3.0
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=debian, os-family=debian
# The following system packages are needed:
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install omake      0.10.3 [required by extprot]
  - install base-bytes base   [required by extprot]
  - install ocamlbuild 0.12.0 [required by camlp4]
  - install cppo       1.6.4  [required by extlib]
  - install camlp4     4.06+1 [required by extprot]
  - install extlib     1.7.5  [required by extprot]
  - install extprot    1.3.0
===== 7 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[camlp4.4.06+1] found in cache
[cppo.1.6.4] found in cache
[extlib.1.7.5] found in cache
[extprot.1.3.0] found in cache
[ocamlbuild.0.12.0] found in cache
[omake.0.10.3] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed base-bytes.base
-> installed cppo.1.6.4
-> installed extlib.1.7.5
-> installed ocamlbuild.0.12.0
-> installed omake.0.10.3
-> installed camlp4.4.06+1
[ERROR] The compilation of extprot failed at "/home/opam/.opam/4.06/bin/omake".

#=== ERROR while compiling extprot.1.3.0 ======================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/extprot.1.3.0
# command              ~/.opam/4.06/bin/omake
# exit-code            2
# env-file             ~/.opam/log/extprot-11-ce0575.env
# output-file          ~/.opam/log/extprot-11-ce0575.out
### output ###
# *** omake: reading OMakefiles
# --- Checking for ocamlfind... (found /home/opam/.opam/4.06/bin/ocamlfind)
# --- Checking for ocamlc.opt... (found /home/opam/.opam/4.06/bin/ocamlc.opt)
# --- Checking for ocamlopt.opt... (found /home/opam/.opam/4.06/bin/ocamlopt.opt)
# --- Checking for ocamldep.opt... (found /home/opam/.opam/4.06/bin/ocamldep.opt)
# --- Checking for ocamllex.opt... (found /home/opam/.opam/4.06/bin/ocamllex.opt)
# --- Checking whether ocamlc understands the "z" warnings... (yes)
# --- Checking whether ocamlopt can create cmxs plugins... (yes)
# --- Checking if ocamldep understands -modules... (yes)
# *** omake: finished reading OMakefiles (0.15 sec)
# - build runtime random_gen.cmi
# + ocamlfind ocamlc -package dynlink,camlp4,extlib,bytes,camlp4.macro -w +a-3-4-32-44-48 -warn-error +a-3-4-6-7-9-18-27..29-32..99 -bin-annot -syntax camlp4o -ppopt -DLITTLE_ENDIAN -for-pack Extprot -g -g -I . -c random_gen.ml
# File "random_gen.ml", line 37, characters 0-2194:
# Error: Signature mismatch:
#        ...
#        Values do not match:
#          val rand_string : ('a -> int * R.State.t) -> 'a -> bytes * R.State.t
#        is not included in
#          val rand_string : int t -> string t
#        File "random_gen.ml", line 17, characters 2-37: Expected declaration
#        File "random_gen.ml", line 64, characters 6-17: Actual declaration
# *** omake: 126/217 targets are up to date
# *** omake: failed (0.86 sec, 33/33 scans, 17/31 rules, 95/131 digests)
# *** omake: targets were not rebuilt because of errors:
#    runtime/random_gen.cmi
#       depends on: runtime/random_gen.ml
#    runtime/random_gen.cmo
#       depends on: runtime/random_gen.ml
#    runtime/random_gen.cmx
#       depends on: runtime/random_gen.ml
#    runtime/random_gen.o
#       depends on: runtime/random_gen.ml



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build extprot 1.3.0
+- 
+- The following changes have been performed
| - install base-bytes base
| - install camlp4     4.06+1
| - install cppo       1.6.4
| - install extlib     1.7.5
| - install ocamlbuild 0.12.0
| - install omake      0.10.3
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180727211218.export"
31 1532725935 1532726046