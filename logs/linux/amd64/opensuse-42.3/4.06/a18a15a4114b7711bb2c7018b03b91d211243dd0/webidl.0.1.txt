$ opam depext -iy -j 2 webidl.0.1
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=opensuse, os-family=suse
# The following system packages are needed:
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install result                  1.3        [required by ppx_deriving]
  - install ppx_tools               5.1+4.06.0 [required by ppx_deriving]
  - install base-bytes              base       [required by cppo]
  - install ocamlbuild              0.12.0     [required by webidl]
  - install ppx_derivers            1.0        [required by ppx_deriving]
  - install ocaml-migrate-parsetree 1.0.11     [required by ppx_deriving]
  - install cppo                    1.6.4      [required by ppx_deriving]
  - install menhir                  20180703   [required by webidl]
  - install cppo_ocamlbuild         1.6.0      [required by ppx_deriving]
  - install ppx_deriving            4.2.1      [required by webidl]
  - install webidl                  0.1
===== 11 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[cppo.1.6.4] found in cache
[cppo_ocamlbuild.1.6.0] found in cache
[menhir.20180703] found in cache
[ocaml-migrate-parsetree.1.0.11] found in cache
[ocamlbuild.0.12.0] found in cache
[ppx_derivers.1.0] found in cache
[ppx_deriving.4.2.1] found in cache
[ppx_tools.5.1+4.06.0] found in cache
[result.1.3] found in cache
[webidl.0.1] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed base-bytes.base
-> installed cppo.1.6.4
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.1+4.06.0
-> installed result.1.3
-> installed ocamlbuild.0.12.0
-> installed cppo_ocamlbuild.1.6.0
-> installed ocaml-migrate-parsetree.1.0.11
-> installed ppx_deriving.4.2.1
-> installed menhir.20180703
[ERROR] The compilation of webidl failed at "/home/opam/.opam/4.06/bin/ocaml setup.ml build".

#=== ERROR while compiling webidl.0.1 =========================================#
# context              2.0.0 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/webidl.0.1
# command              ~/.opam/4.06/bin/ocaml setup.ml build
# exit-code            10
# env-file             ~/.opam/log/webidl-12-f4ab61.env
# output-file          ~/.opam/log/webidl-12-f4ab61.out
### output ###
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/types.ml > src/ast/types.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/types.cmo src/ast/types.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/const.ml > src/ast/const.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/const.cmo src/ast/const.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/types.cmx src/ast/types.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/argument.ml > src/ast/argument.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/argument.cmo src/ast/argument.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/const.cmx src/ast/const.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/extended.ml > src/ast/extended.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/extended.cmo src/ast/extended.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/argument.cmx src/ast/argument.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/operation.ml > src/ast/operation.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/operation.cmo src/ast/operation.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/extended.cmx src/ast/extended.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/attribute.ml > src/ast/attribute.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/attribute.cmo src/ast/attribute.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/interface.ml > src/ast/interface.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/interface.cmo src/ast/interface.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/attribute.cmx src/ast/attribute.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/operation.cmx src/ast/operation.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/dictionary.ml > src/ast/dictionary.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/dictionary.cmo src/ast/dictionary.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/namespace.ml > src/ast/namespace.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/namespace.cmo src/ast/namespace.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/definition.ml > src/ast/definition.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/definition.cmo src/ast/definition.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/dictionary.cmx src/ast/dictionary.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/interface.cmx src/ast/interface.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/namespace.cmx src/ast/namespace.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/ast/ast.ml > src/ast/ast.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/ast.cmo src/ast/ast.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/definition.cmx src/ast/definition.ml
# menhir --raw-depend --ocamldep 'ocamlfind ocamldep -modules' src/syntax/parser.mly > src/syntax/parser.mly.depends
# menhir --ocamlc 'ocamlfind ocamlc -package ppx_deriving.show -I src/syntax -I src -I src/ast' --infer src/syntax/parser.mly
# ocamlfind ocamldep -package ppx_deriving.show -modules src/syntax/parser.ml > src/syntax/parser.ml.depends
# ocamlfind ocamldep -package ppx_deriving.show -modules src/syntax/parser.mli > src/syntax/parser.mli.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/syntax -I src -I src/ast -o src/syntax/parser.cmi src/syntax/parser.mli
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/ast -I src -I src/syntax -o src/ast/ast.cmx src/ast/ast.ml
# /home/opam/.opam/4.06/bin/ocamllex.opt -q src/syntax/lexer.mll
# ocamlfind ocamldep -package ppx_deriving.show -modules src/syntax/lexer.ml > src/syntax/lexer.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src/syntax -I src -I src/ast -o src/syntax/lexer.cmo src/syntax/lexer.ml
# ocamlfind ocamlopt -c -package ppx_deriving.show -I src/syntax -I src -I src/ast -o src/syntax/parser.cmx src/syntax/parser.ml
# ocamlfind ocamldep -package ppx_deriving.show -modules src/webidl.ml > src/webidl.ml.depends
# ocamlfind ocamlc -c -package ppx_deriving.show -I src -I src/ast -I src/syntax -o src/webidl.cmo src/webidl.ml
# + ocamlfind ocamlc -c -package ppx_deriving.show -I src -I src/ast -I src/syntax -o src/webidl.cmo src/webidl.ml
# File "src/webidl.ml", line 15, characters 26-43:
# Error: This expression has type bytes but an expression was expected of type
#          string
# Command exited with code 2.
# setup.ml exec:ocamlbuild -use-ocamlfind libwebidl.cmxa



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build webidl 0.1
+- 
+- The following changes have been performed
| - install base-bytes              base
| - install cppo                    1.6.4
| - install cppo_ocamlbuild         1.6.0
| - install menhir                  20180703
| - install ocaml-migrate-parsetree 1.0.11
| - install ocamlbuild              0.12.0
| - install ppx_derivers            1.0
| - install ppx_deriving            4.2.1
| - install ppx_tools               5.1+4.06.0
| - install result                  1.3
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180806014352.export"
31 1533519598 1533519865