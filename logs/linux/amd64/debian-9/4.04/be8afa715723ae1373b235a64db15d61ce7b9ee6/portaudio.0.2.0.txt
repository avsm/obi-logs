$ opam depext -iy -j 2 portaudio.0.2.0
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=debian, os-family=debian
# The following system packages are needed:
m4
pkg-config
portaudio19-dev
The following command needs to be run through "sudo":
    apt-get install -qq -yy m4 pkg-config portaudio19-dev
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package sgml-base.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 17681 files and directories currently installed.)
Preparing to unpack .../00-sgml-base_1.29_all.deb ...
Unpacking sgml-base (1.29) ...
Selecting previously unselected package libicu57:amd64.
Preparing to unpack .../01-libicu57_57.1-6+deb9u2_amd64.deb ...
Unpacking libicu57:amd64 (57.1-6+deb9u2) ...
Selecting previously unselected package libxml2:amd64.
Preparing to unpack .../02-libxml2_2.9.4+dfsg1-2.2+deb9u2_amd64.deb ...
Unpacking libxml2:amd64 (2.9.4+dfsg1-2.2+deb9u2) ...
Selecting previously unselected package libasound2-data.
Preparing to unpack .../03-libasound2-data_1.1.3-5_all.deb ...
Unpacking libasound2-data (1.1.3-5) ...
Selecting previously unselected package libasound2:amd64.
Preparing to unpack .../04-libasound2_1.1.3-5_amd64.deb ...
Unpacking libasound2:amd64 (1.1.3-5) ...
Selecting previously unselected package libasound2-dev:amd64.
Preparing to unpack .../05-libasound2-dev_1.1.3-5_amd64.deb ...
Unpacking libasound2-dev:amd64 (1.1.3-5) ...
Selecting previously unselected package libglib2.0-0:amd64.
Preparing to unpack .../06-libglib2.0-0_2.50.3-2_amd64.deb ...
Unpacking libglib2.0-0:amd64 (2.50.3-2) ...
Selecting previously unselected package libglib2.0-data.
Preparing to unpack .../07-libglib2.0-data_2.50.3-2_all.deb ...
Unpacking libglib2.0-data (2.50.3-2) ...
Selecting previously unselected package libjack0:amd64.
Preparing to unpack .../08-libjack0_1%3a0.125.0-2_amd64.deb ...
Unpacking libjack0:amd64 (1:0.125.0-2) ...
Selecting previously unselected package pkg-config.
Preparing to unpack .../09-pkg-config_0.29-4+b1_amd64.deb ...
Unpacking pkg-config (0.29-4+b1) ...
Selecting previously unselected package uuid-dev:amd64.
Preparing to unpack .../10-uuid-dev_2.29.2-1+deb9u1_amd64.deb ...
Unpacking uuid-dev:amd64 (2.29.2-1+deb9u1) ...
Selecting previously unselected package libjack-dev.
Preparing to unpack .../11-libjack-dev_1%3a0.125.0-2_amd64.deb ...
Unpacking libjack-dev (1:0.125.0-2) ...
Selecting previously unselected package libportaudio2:amd64.
Preparing to unpack .../12-libportaudio2_19.6.0-1_amd64.deb ...
Unpacking libportaudio2:amd64 (19.6.0-1) ...
Selecting previously unselected package libportaudiocpp0:amd64.
Preparing to unpack .../13-libportaudiocpp0_19.6.0-1_amd64.deb ...
Unpacking libportaudiocpp0:amd64 (19.6.0-1) ...
Selecting previously unselected package portaudio19-dev:amd64.
Preparing to unpack .../14-portaudio19-dev_19.6.0-1_amd64.deb ...
Unpacking portaudio19-dev:amd64 (19.6.0-1) ...
Selecting previously unselected package shared-mime-info.
Preparing to unpack .../15-shared-mime-info_1.8-1+deb9u1_amd64.deb ...
Unpacking shared-mime-info (1.8-1+deb9u1) ...
Selecting previously unselected package xdg-user-dirs.
Preparing to unpack .../16-xdg-user-dirs_0.15-2+b1_amd64.deb ...
Unpacking xdg-user-dirs (0.15-2+b1) ...
Selecting previously unselected package xml-core.
Preparing to unpack .../17-xml-core_0.17_all.deb ...
Unpacking xml-core (0.17) ...
Setting up libjack0:amd64 (1:0.125.0-2) ...
Setting up libglib2.0-0:amd64 (2.50.3-2) ...
No schema files found: doing nothing.
Setting up libasound2-data (1.1.3-5) ...
Setting up uuid-dev:amd64 (2.29.2-1+deb9u1) ...
Setting up sgml-base (1.29) ...
Setting up libicu57:amd64 (57.1-6+deb9u2) ...
Setting up libxml2:amd64 (2.9.4+dfsg1-2.2+deb9u2) ...
Setting up libasound2:amd64 (1.1.3-5) ...
Setting up pkg-config (0.29-4+b1) ...
Setting up libglib2.0-data (2.50.3-2) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Setting up shared-mime-info (1.8-1+deb9u1) ...
Setting up xml-core (0.17) ...
Setting up xdg-user-dirs (0.15-2+b1) ...
Setting up libasound2-dev:amd64 (1.1.3-5) ...
Setting up libjack-dev (1:0.125.0-2) ...
Setting up libportaudio2:amd64 (19.6.0-1) ...
Setting up libportaudiocpp0:amd64 (19.6.0-1) ...
Setting up portaudio19-dev:amd64 (19.6.0-1) ...
Processing triggers for sgml-base (1.29) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install portaudio 0.2.0

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[portaudio.0.2.0] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[ERROR] The compilation of portaudio failed at "/usr/bin/make".

#=== ERROR while compiling portaudio.0.2.0 ====================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.04.2 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.04/.opam-switch/build/portaudio.0.2.0
# command              /usr/bin/make
# exit-code            2
# env-file             ~/.opam/log/portaudio-11-1872ec.env
# output-file          ~/.opam/log/portaudio-11-1872ec.out
### output ###
# /usr/bin/make -C src all
# make[1]: Entering directory '/home/opam/.opam/4.04/.opam-switch/build/portaudio.0.2.0/src'
# make[2]: Entering directory '/home/opam/.opam/4.04/.opam-switch/build/portaudio.0.2.0/src'
# ocamldep portaudio.mli > ._bcdi/portaudio.di
# ocamldep portaudio.ml > ._d/portaudio.d
# ocamlc.opt -c -cc "gcc" -ccopt "-fPIC -I/home/opam/.opam/4.04/include -pthread -Wall -DCAML_NAME_SPACE \
# 			-DPIC -I/home/opam/.opam/4.04/include  \
# 			    -o portaudio_stubs.o " portaudio_stubs.c
# portaudio_stubs.c: In function 'get_buffer':
# portaudio_stubs.c:523:27: error: unknown type name 'int32'
#              GET_BUFFER_NI(int32, Int32_val(Field(bufc, ofs + i)))
#                            ^
# portaudio_stubs.c:501:37: note: in definition of macro 'GET_BUFFER_NI'
#  #define GET_BUFFER_NI(type, elem) { type **bufi = malloc(chans * sizeof(type*)); \
#                                      ^~~~
# portaudio_stubs.c:523:27: error: 'int32' undeclared (first use in this function)
#              GET_BUFFER_NI(int32, Int32_val(Field(bufc, ofs + i)))
#                            ^
# portaudio_stubs.c:501:73: note: in definition of macro 'GET_BUFFER_NI'
#  #define GET_BUFFER_NI(type, elem) { type **bufi = malloc(chans * sizeof(type*)); \
#                                                                          ^~~~
# portaudio_stubs.c:523:27: note: each undeclared identifier is reported only once for each function it appears in
#              GET_BUFFER_NI(int32, Int32_val(Field(bufc, ofs + i)))
#                            ^
# portaudio_stubs.c:501:73: note: in definition of macro 'GET_BUFFER_NI'
#  #define GET_BUFFER_NI(type, elem) { type **bufi = malloc(chans * sizeof(type*)); \
#                                                                          ^~~~
# portaudio_stubs.c:501:78: error: expected expression before ')' token
#  #define GET_BUFFER_NI(type, elem) { type **bufi = malloc(chans * sizeof(type*)); \
#                                                                               ^
# portaudio_stubs.c:523:13: note: in expansion of macro 'GET_BUFFER_NI'
#              GET_BUFFER_NI(int32, Int32_val(Field(bufc, ofs + i)))
#              ^~~~~~~~~~~~~
# portaudio_stubs.c:493:40: error: 'bufi' undeclared (first use in this function)
#  #define GET_BUFFER(type, elem) { type *bufi = malloc(chans * len * sizeof(type)); \
#                                         ^
# portaudio_stubs.c:525:13: note: in expansion of macro 'GET_BUFFER'
#              GET_BUFFER(int32, Int32_val(Field(bufc, ofs + i)))
#              ^~~~~~~~~~
# portaudio_stubs.c: In function 'get_read_buffer':
# portaudio_stubs.c:554:23: error: 'int32' undeclared (first use in this function)
#          size = sizeof(int32);
#                        ^~~~~
# portaudio_stubs.c: In function 'ocaml_portaudio_copy_buffer':
# portaudio_stubs.c:595:21: error: unknown type name 'int32'
#          COPY_BUFFER(int32, Store_field, caml_copy_int32)
#                      ^
# portaudio_stubs.c:579:40: note: in definition of macro 'COPY_BUFFER'
#  #define COPY_BUFFER(type, store, elem) type *buf = inbuf; \
#                                         ^~~~
# portaudio_stubs.c: In function 'get_buffer_ba':
# portaudio_stubs.c:665:9: error: unknown type name 'int32'
#          int32 *bufi = Caml_ba_data_val(buf);
#          ^~~~~
# portaudio_stubs.c:656:9: warning: variable 'dim' set but not used [-Wunused-but-set-variable]
#      int dim;
#          ^~~
# portaudio_stubs.c: In function 'get_buffer_ba_ni':
# portaudio_stubs.c:703:23: error: unknown type name 'int32'
#          GET_BUFFER_BA(int32)
#                        ^
# portaudio_stubs.c:682:29: note: in definition of macro 'GET_BUFFER_BA'
#  #define GET_BUFFER_BA(type) type *bufi = Caml_ba_data_val(buf); \
#                              ^~~~
# portaudio_stubs.c:703:23: error: unknown type name 'int32'
#          GET_BUFFER_BA(int32)
#                        ^
# portaudio_stubs.c:683:9: note: in definition of macro 'GET_BUFFER_BA'
#          type **bufo = malloc(chans * sizeof(type*)); \
#          ^~~~
# portaudio_stubs.c:703:23: error: 'int32' undeclared (first use in this function)
#          GET_BUFFER_BA(int32)
#                        ^
# portaudio_stubs.c:683:45: note: in definition of macro 'GET_BUFFER_BA'
#          type **bufo = malloc(chans * sizeof(type*)); \
#                                              ^~~~
# portaudio_stubs.c:683:50: error: expected expression before ')' token
#          type **bufo = malloc(chans * sizeof(type*)); \
#                                                   ^
# portaudio_stubs.c:703:9: note: in expansion of macro 'GET_BUFFER_BA'
#          GET_BUFFER_BA(int32)
#          ^~~~~~~~~~~~~
# portaudio_stubs.c: In function 'get_buffer':
# portaudio_stubs.c:543:1: warning: control reaches end of non-void function [-Wreturn-type]
#  }
#  ^
# OCamlMakefile:1029: recipe for target 'portaudio_stubs.o' failed
# make[2]: *** [portaudio_stubs.o] Error 2
# make[2]: Leaving directory '/home/opam/.opam/4.04/.opam-switch/build/portaudio.0.2.0/src'
# OCamlMakefile:736: recipe for target 'byte-code-library' failed
# make[1]: *** [byte-code-library] Error 2
# make[1]: Leaving directory '/home/opam/.opam/4.04/.opam-switch/build/portaudio.0.2.0/src'
# Makefile:12: recipe for target 'all' failed
# make: *** [all] Error 2



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build portaudio 0.2.0
+- 
- No changes have been performed

The packages you requested declare the following system dependencies. Please make sure they are installed before retrying:
    pkg-config portaudio19-dev

# Run eval $(opam env) to update the current shell environment
31 1532388241 1532388258