$ opam depext -iy -j 2 odate.0.5
# Detecting depexts using vars: arch=arm64, os=linux, os-distribution=debian, os-family=debian
# The following system packages are needed:
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install ocamlbuild 0.12.0   [required by odate]
  - install ocamlmod   0.0.9    [required by oasis]
  - install ocamlify   0.0.1    [required by oasis]
  - install menhir     20180530 [required by odate]
  - install oasis      0.4.11   [required by odate]
  - install odate      0.5
===== 6 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[menhir.20180530] found in cache
[oasis.0.4.11] found in cache
[ocamlbuild.0.12.0] found in cache
[ocamlify.0.0.1] found in cache
[ocamlmod.0.0.9] found in cache
[odate.0.5] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed ocamlbuild.0.12.0
-> installed ocamlify.0.0.1
-> installed ocamlmod.0.0.9
-> installed menhir.20180530
-> installed oasis.0.4.11
[ERROR] The compilation of odate failed at "/home/opam/.opam/4.06/bin/ocaml setup.ml -build".

#=== ERROR while compiling odate.0.5 ==========================================#
# context              2.0.0~rc3 | linux/arm64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/odate.0.5
# command              ~/.opam/4.06/bin/ocaml setup.ml -build
# exit-code            1
# env-file             ~/.opam/log/odate-12-9ab3aa.env
# output-file          ~/.opam/log/odate-12-9ab3aa.out
### output ###
# ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/4.06/lib/ocamlbuild /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -modules src/oDate.mli > src/oDate.mli.depends
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -modules src/oDuration.mli > src/oDuration.mli.depends
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I src -o src/oDuration.cmi src/oDuration.mli
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I src -o src/oDate.cmi src/oDate.mli
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -modules src/oDate.ml > src/oDate.ml.depends
# /home/opam/.opam/4.06/bin/ocamllex.opt -q src/date_lexer.mll
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -modules src/date_lexer.ml > src/date_lexer.ml.depends
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I src -o src/date_lexer.cmo src/date_lexer.ml
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -modules src/oDuration.ml > src/oDuration.ml.depends
# /home/opam/.opam/4.06/bin/ocamllex.opt -q src/duration_lexer.mll
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -modules src/duration_lexer.ml > src/duration_lexer.ml.depends
# menhir --raw-depend --ocamldep '/home/opam/.opam/4.06/bin/ocamlfind ocamldep -modules' src/duration_parser.mly > src/duration_parser.mly.depends
# /home/opam/.opam/4.06/bin/ocamlfind ocamldep -modules src/duration_private.ml > src/duration_private.ml.depends
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -c -g -annot -bin-annot -I src -o src/duration_private.cmo src/duration_private.ml
# menhir --ocamlc '/home/opam/.opam/4.06/bin/ocamlfind ocamlc -g -annot -bin-annot -I src' --infer src/duration_parser.mly
# + menhir --ocamlc '/home/opam/.opam/4.06/bin/ocamlfind ocamlc -g -annot -bin-annot -I src' --infer src/duration_parser.mly
# File "src/duration_parser.mly", line 33, characters 12-25:
# Warning 3: deprecated: String.create
# Use Bytes.create instead.
# File "src/duration_parser.mly", line 34, characters 27-37:
# Warning 3: deprecated: String.set
# Use Bytes.set instead.
# File "src/duration_parser.mly", line 35, characters 36-37:
# Error: This expression has type bytes but an expression was expected of type
#          string
# Command exited with code 1.
# E: Failure("Command ''/home/opam/.opam/4.06/bin/ocamlbuild' src/odate.cma src/odate.cmxa src/odate.a src/odate.cmxs -use-ocamlfind -tag debug' terminated with error code 10")



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build odate 0.5
+- 
+- The following changes have been performed
| - install menhir     20180530
| - install oasis      0.4.11
| - install ocamlbuild 0.12.0
| - install ocamlify   0.0.1
| - install ocamlmod   0.0.9
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180704020306.export"
31 1530669773 1530670056