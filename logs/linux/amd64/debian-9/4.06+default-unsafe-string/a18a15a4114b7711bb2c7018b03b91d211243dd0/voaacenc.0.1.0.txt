$ opam depext -iy -j 2 voaacenc.0.1.0
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=debian, os-family=debian
# The following system packages are needed:
camlidl
libvo-aacenc-dev
m4
The following command needs to be run through "sudo":
    apt-get install -qq -yy camlidl libvo-aacenc-dev m4
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package libvo-aacenc0:amd64.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 17681 files and directories currently installed.)
Preparing to unpack .../00-libvo-aacenc0_0.1.3-1_amd64.deb ...
Unpacking libvo-aacenc0:amd64 (0.1.3-1) ...
Selecting previously unselected package libmagic-mgc.
Preparing to unpack .../01-libmagic-mgc_1%3a5.30-1+deb9u2_amd64.deb ...
Unpacking libmagic-mgc (1:5.30-1+deb9u2) ...
Selecting previously unselected package libmagic1:amd64.
Preparing to unpack .../02-libmagic1_1%3a5.30-1+deb9u2_amd64.deb ...
Unpacking libmagic1:amd64 (1:5.30-1+deb9u2) ...
Selecting previously unselected package file.
Preparing to unpack .../03-file_1%3a5.30-1+deb9u2_amd64.deb ...
Unpacking file (1:5.30-1+deb9u2) ...
Selecting previously unselected package ocaml-base-nox.
Preparing to unpack .../04-ocaml-base-nox_4.02.3-9_amd64.deb ...
Unpacking ocaml-base-nox (4.02.3-9) ...
Selecting previously unselected package libtinfo-dev:amd64.
Preparing to unpack .../05-libtinfo-dev_6.0+20161126-1+deb9u2_amd64.deb ...
Unpacking libtinfo-dev:amd64 (6.0+20161126-1+deb9u2) ...
Selecting previously unselected package libncurses5-dev:amd64.
Preparing to unpack .../06-libncurses5-dev_6.0+20161126-1+deb9u2_amd64.deb ...
Unpacking libncurses5-dev:amd64 (6.0+20161126-1+deb9u2) ...
Selecting previously unselected package ocaml-compiler-libs.
Preparing to unpack .../07-ocaml-compiler-libs_4.02.3-9_amd64.deb ...
Unpacking ocaml-compiler-libs (4.02.3-9) ...
Selecting previously unselected package ocaml-interp.
Preparing to unpack .../08-ocaml-interp_4.02.3-9_amd64.deb ...
Unpacking ocaml-interp (4.02.3-9) ...
Selecting previously unselected package ocaml-nox.
Preparing to unpack .../09-ocaml-nox_4.02.3-9_amd64.deb ...
Unpacking ocaml-nox (4.02.3-9) ...
Selecting previously unselected package camlidl.
Preparing to unpack .../10-camlidl_1.05-14+b2_amd64.deb ...
Unpacking camlidl (1.05-14+b2) ...
Selecting previously unselected package libcamlp4-ocaml-dev.
Preparing to unpack .../11-libcamlp4-ocaml-dev_4.02.1+3-2+b1_amd64.deb ...
Unpacking libcamlp4-ocaml-dev (4.02.1+3-2+b1) ...
Selecting previously unselected package camlp4.
Preparing to unpack .../12-camlp4_4.02.1+3-2+b1_amd64.deb ...
Unpacking camlp4 (4.02.1+3-2+b1) ...
Selecting previously unselected package ledit.
Preparing to unpack .../13-ledit_2.03-5_all.deb ...
Unpacking ledit (2.03-5) ...
Selecting previously unselected package libfindlib-ocaml.
Preparing to unpack .../14-libfindlib-ocaml_1.6.2-1+b1_amd64.deb ...
Unpacking libfindlib-ocaml (1.6.2-1+b1) ...
Selecting previously unselected package libfindlib-ocaml-dev.
Preparing to unpack .../15-libfindlib-ocaml-dev_1.6.2-1+b1_amd64.deb ...
Unpacking libfindlib-ocaml-dev (1.6.2-1+b1) ...
Selecting previously unselected package libvo-aacenc-dev:amd64.
Preparing to unpack .../16-libvo-aacenc-dev_0.1.3-1_amd64.deb ...
Unpacking libvo-aacenc-dev:amd64 (0.1.3-1) ...
Selecting previously unselected package ocaml-findlib.
Preparing to unpack .../17-ocaml-findlib_1.6.2-1+b1_amd64.deb ...
Unpacking ocaml-findlib (1.6.2-1+b1) ...
Setting up ocaml-base-nox (4.02.3-9) ...
Setting up libtinfo-dev:amd64 (6.0+20161126-1+deb9u2) ...
Setting up libmagic-mgc (1:5.30-1+deb9u2) ...
Setting up libmagic1:amd64 (1:5.30-1+deb9u2) ...
Setting up libvo-aacenc0:amd64 (0.1.3-1) ...
Setting up libncurses5-dev:amd64 (6.0+20161126-1+deb9u2) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Setting up libvo-aacenc-dev:amd64 (0.1.3-1) ...
Setting up libfindlib-ocaml (1.6.2-1+b1) ...
Setting up ocaml-findlib (1.6.2-1+b1) ...
Setting up ledit (2.03-5) ...
update-alternatives: using /usr/bin/ledit to provide /usr/bin/readline-editor (readline-editor) in auto mode
Setting up file (1:5.30-1+deb9u2) ...
Setting up ocaml-compiler-libs (4.02.3-9) ...
Setting up ocaml-interp (4.02.3-9) ...
Setting up ocaml-nox (4.02.3-9) ...
Setting up libcamlp4-ocaml-dev (4.02.1+3-2+b1) ...
Setting up camlidl (1.05-14+b2) ...
Setting up camlp4 (4.02.1+3-2+b1) ...
Setting up libfindlib-ocaml-dev (1.6.2-1+b1) ...
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install voaacenc 0.1.0

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[voaacenc.0.1.0] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[ERROR] The compilation of voaacenc failed at "/home/opam/.opam/4.06+default-unsafe-string/.opam-switch/build/voaacenc.0.1.0/./configure --prefix /home/opam/.opam/4.06+default-unsafe-string".

#=== ERROR while compiling voaacenc.0.1.0 =====================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-variants.4.06.1+default-unsafe-string | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06+default-unsafe-string/.opam-switch/build/voaacenc.0.1.0
# command              ~/.opam/4.06+default-unsafe-string/.opam-switch/build/voaacenc.0.1.0/./configure --prefix /home/opam/.opam/4.06+default-unsafe-string
# exit-code            1
# env-file             ~/.opam/log/voaacenc-11-05296d.env
# output-file          ~/.opam/log/voaacenc-11-05296d.out
### output ###
# configuring ocaml-voaacenc 0.1.0
# checking for gcc... gcc
# checking whether the C compiler works... yes
# checking for C compiler default output file name... a.out
# checking for suffix of executables... 
# checking whether we are cross compiling... no
# checking for suffix of object files... o
# checking whether we are using the GNU C compiler... yes
# checking whether gcc accepts -g... yes
# checking for gcc option to accept ISO C89... none needed
# checking for ocamlc... ocamlc
# OCaml version is 4.06.1
# checking if ocaml compiler supports first-class modules... yes
# OCaml library path is /home/opam/.opam/4.06+default-unsafe-string/lib/ocaml
# checking for ocamlopt... ocamlopt
# checking for ocamlc.opt... ocamlc.opt
# checking for ocamlopt.opt... ocamlopt.opt
# checking for ocaml... ocaml
# checking for ocamldep... ocamldep
# checking for ocamlmktop... ocamlmktop
# checking for ocamlmklib... ocamlmklib
# checking for ocamldoc... ocamldoc
# checking for ocamlbuild... ocamlbuild
# checking for camlidl... camlidl
# checking for ocamllex... ocamllex
# checking for ocamllex.opt... ocamllex.opt
# checking for ocamlyacc... ocamlyacc
# checking for camlp4... camlp4
# versions differs from ocamlc
# checking for camlp4boot... camlp4boot
# checking for camlp4o... camlp4o
# checking for camlp4of... camlp4of
# checking for camlp4oof... camlp4oof
# checking for camlp4orf... camlp4orf
# checking for camlp4prof... camlp4prof
# checking for camlp4r... camlp4r
# checking for camlp4rf... camlp4rf
# checking for ocamlfind... ocamlfind
# checking for caml/threads.h... yes
# checking for gcc... (cached) gcc
# checking whether we are using the GNU C compiler... (cached) yes
# checking whether gcc accepts -g... (cached) yes
# checking for gcc option to accept ISO C89... (cached) none needed
# checking for ar... ar
# checking for pkg-config... no
# checking for libvoaacenc >= 0.1.0... /home/opam/.opam/4.06+default-unsafe-string/.opam-switch/build/voaacenc.0.1.0/./configure: line 5032: --exists: command not found
# configure: error: vo-aacenc not found



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build voaacenc 0.1.0
+- 
- No changes have been performed

The packages you requested declare the following system dependencies. Please make sure they are installed before retrying:
    camlidl libvo-aacenc-dev

# Run eval $(opam env) to update the current shell environment
31 1533336311 1533336327