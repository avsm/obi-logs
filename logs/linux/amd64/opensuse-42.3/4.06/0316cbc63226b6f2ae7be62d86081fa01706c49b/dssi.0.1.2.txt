$ opam depext -iy -j 2 dssi.0.1.2
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=opensuse, os-family=suse
# The following system packages are needed:
dssi-devel
ladspa-devel
m4
# The following new OS packages need to be installed: dssi-devel ladspa-devel
The following command needs to be run through "sudo":
    zypper --non-interactive install dssi-devel ladspa-devel
Retrieving repository 'OSS Update' metadata [..done]
Building repository 'OSS Update' cache [....done]
Loading repository data...
Reading installed packages...
Resolving package dependencies...

The following 2 NEW packages are going to be installed:
  dssi-devel ladspa-devel

2 new packages to install.
Overall download size: 35.8 KiB. Already cached: 0 B. After the operation, additional 82.0 KiB will be used.
Continue? [y/n/...? shows all options] (y): y
Retrieving package ladspa-devel-1.13-30.3.noarch (1/2),  25.4 KiB ( 63.7 KiB unpacked)
Retrieving: ladspa-devel-1.13-30.3.noarch.rpm [done]
Retrieving package dssi-devel-1.1.1-13.1.x86_64 (2/2),  10.3 KiB ( 18.3 KiB unpacked)
Retrieving: dssi-devel-1.1.1-13.1.x86_64.rpm [done]
Checking for file conflicts: [......done]
(1/2) Installing: ladspa-devel-1.13-30.3.noarch [......done]
(2/2) Installing: dssi-devel-1.1.1-13.1.x86_64 [....done]
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install ladspa 0.1.5 [required by dssi]
  - install dssi   0.1.2
===== 2 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[dssi.0.1.2] found in cache
[ladspa.0.1.5] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed ladspa.0.1.5
[ERROR] The compilation of dssi failed at "/home/opam/.opam/4.06/.opam-switch/build/dssi.0.1.2/./configure --prefix /home/opam/.opam/4.06".

#=== ERROR while compiling dssi.0.1.2 =========================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/dssi.0.1.2
# command              ~/.opam/4.06/.opam-switch/build/dssi.0.1.2/./configure --prefix /home/opam/.opam/4.06
# exit-code            1
# env-file             ~/.opam/log/dssi-12-6cc03f.env
# output-file          ~/.opam/log/dssi-12-6cc03f.out
### output ###
# configuring ocaml-dssi 0.1.2
# checking for gcc... gcc
# checking whether the C compiler works... yes
# checking for C compiler default output file name... a.out
# checking for suffix of executables... 
# checking whether we are cross compiling... no
# checking for suffix of object files... o
# checking whether we are using the GNU C compiler... yes
# checking whether gcc accepts -g... yes
# checking for gcc option to accept ISO C89... none needed
# checking build system type... x86_64-unknown-linux-gnu
# checking host system type... x86_64-unknown-linux-gnu
# checking for a BSD-compatible install... /usr/bin/install -c
# checking that calling user is not root... ok
# checking for gcc... (cached) gcc
# checking whether we are using the GNU C compiler... (cached) yes
# checking whether gcc accepts -g... (cached) yes
# checking for gcc option to accept ISO C89... (cached) none needed
# checking for ar... ar
# checking for ocamlc... ocamlc
# OCaml version is 4.06.1
# checking if ocaml compiler supports first-class modules... yes
# OCaml library path is /home/opam/.opam/4.06/lib/ocaml
# checking for ocamlopt... ocamlopt
# checking for ocamlc.opt... ocamlc.opt
# checking for ocamlopt.opt... ocamlopt.opt
# checking for ocaml... ocaml
# checking for ocamldep... ocamldep
# checking for ocamldep.opt... ocamldep.opt
# checking for ocamlmktop... ocamlmktop
# checking for ocamlmklib... ocamlmklib
# checking for ocamldoc... ocamldoc
# checking for ocamldoc.opt... ocamldoc.opt
# checking for ocamlbuild... no
# checking for camlidl... no
# checking for ocamllex... ocamllex
# checking for ocamllex.opt... ocamllex.opt
# checking for ocamlyacc... ocamlyacc
# checking for camlp4... no
# checking for camlp4boot... no
# checking for camlp4o... no
# checking for camlp4of... no
# checking for camlp4oof... no
# checking for camlp4orf... no
# checking for camlp4prof... no
# checking for camlp4r... no
# checking for camlp4rf... no
# checking for ocamlfind... ocamlfind
# checking for ocaml standard library path... /home/opam/.opam/4.06/lib/ocaml
# checking for caml/threads.h... no
# checking for gcc option to produce PIC... -fPIC
# checking how to run the C preprocessor... gcc -E
# checking for grep that handles long lines and -e... /usr/bin/grep
# checking for egrep... /usr/bin/grep -E
# checking for ANSI C header files... yes
# checking for sys/types.h... yes
# checking for sys/stat.h... yes
# checking for stdlib.h... yes
# checking for string.h... yes
# checking for memory.h... yes
# checking for strings.h... yes
# checking for inttypes.h... yes
# checking for stdint.h... yes
# checking for unistd.h... yes
# checking dssi.h usability... no
# checking dssi.h presence... no
# checking for dssi.h... no
# configure: error: DSSI headers not found.



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build dssi 0.1.2
+- 
+- The following changes have been performed
| - install ladspa 0.1.5
+- 

The packages you requested declare the following system dependencies. Please make sure they are installed before retrying:
    dssi-devel

# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180727044105.export"
31 1532666046 1532666471