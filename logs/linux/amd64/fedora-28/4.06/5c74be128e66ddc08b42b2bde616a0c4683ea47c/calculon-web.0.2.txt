$ opam depext -iy -j 2 calculon-web.0.2
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=fedora, os-family=fedora
# The following system packages are needed:
gmp
gmp-devel
m4
perl-Pod-Html
which
Name        : gmp
Epoch       : 1
Version     : 6.1.2
Release     : 7.fc28
Architecture: x86_64
Install Date: Thu Apr 26 13:03:41 2018
Group       : System Environment/Libraries
Size        : 802883
License     : LGPLv3+ or GPLv2+
Signature   : RSA/SHA256, Thu Feb  8 08:28:20 2018, Key ID e08e7e629db62fb1
Source RPM  : gmp-6.1.2-7.fc28.src.rpm
Build Date  : Wed Feb  7 15:25:15 2018
Build Host  : buildhw-02.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://gmplib.org/
Summary     : A GNU arbitrary precision library
Description :
The gmp package contains GNU MP, a library for arbitrary precision
arithmetic, signed integers operations, rational numbers and floating
point numbers. GNU MP is designed for speed, for both small and very
large operands. GNU MP is fast because it uses fullwords as the basic
arithmetic type, it uses fast algorithms, it carefully optimizes
assembly code for many CPUs' most common inner loops, and it generally
emphasizes speed over simplicity/elegance in its operations.

Install the gmp package if you need a fast arbitrary precision
library.
package gmp-devel is not installed
Name        : m4
Version     : 1.4.18
Release     : 6.fc28
Architecture: x86_64
Install Date: Sun Aug 12 20:16:44 2018
Group       : Applications/Text
Size        : 372272
License     : GPLv3+
Signature   : RSA/SHA256, Sun Feb 25 11:01:47 2018, Key ID e08e7e629db62fb1
Source RPM  : m4-1.4.18-6.fc28.src.rpm
Build Date  : Sun Feb 25 10:58:14 2018
Build Host  : buildvm-25.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://www.gnu.org/software/m4/
Bug URL     : https://bugz.fedoraproject.org/m4
Summary     : The GNU macro processor
Description :
A GNU implementation of the traditional UNIX macro processor.  M4 is
useful for writing text files which can be logically parsed, and is used
by many programs as part of their build process.  M4 has built-in
functions for including files, running shell commands, doing arithmetic,
etc.  The autoconf program needs m4 for generating configure scripts, but
not for running configure scripts.

Install m4 if you need a macro processor.
package perl-Pod-Html is not installed
Name        : which
Version     : 2.21
Release     : 8.fc28
Architecture: x86_64
Install Date: Sun Aug 12 06:36:45 2018
Group       : Unspecified
Size        : 79310
License     : GPLv3
Signature   : RSA/SHA256, Fri Feb 16 17:11:18 2018, Key ID e08e7e629db62fb1
Source RPM  : which-2.21-8.fc28.src.rpm
Build Date  : Fri Feb 16 17:06:50 2018
Build Host  : buildvm-05.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : https://savannah.gnu.org/projects/which/
Summary     : Displays where a particular program in your path is located
Description :
The which command shows the full pathname of a specified program, if
the specified program is in your PATH.
# The following new OS packages need to be installed: gmp-devel perl-Pod-Html
The following command needs to be run through "sudo":
    yum install -y gmp-devel perl-Pod-Html
Last metadata expiration check: 0:00:00 ago on Mon Aug 13 06:06:01 2018.
Dependencies resolved.
================================================================================
 Package             Arch         Version                   Repository     Size
================================================================================
Installing:
 gmp-devel           x86_64       1:6.1.2-7.fc28            fedora        187 k
 perl-Pod-Html       noarch       1.22.02-413.fc28          updates        85 k
Installing dependencies:
 gmp-c++             x86_64       1:6.1.2-7.fc28            fedora         31 k

Transaction Summary
================================================================================
Install  3 Packages

Total download size: 304 k
Installed size: 413 k
Downloading Packages:
(1/3): perl-Pod-Html-1.22.02-413.fc28.noarch.rp 1.0 MB/s |  85 kB     00:00    
(2/3): gmp-c++-6.1.2-7.fc28.x86_64.rpm          329 kB/s |  31 kB     00:00    
(3/3): gmp-devel-6.1.2-7.fc28.x86_64.rpm        1.6 MB/s | 187 kB     00:00    
--------------------------------------------------------------------------------
Total                                           220 kB/s | 304 kB     00:01     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : gmp-c++-1:6.1.2-7.fc28.x86_64                          1/3 
  Running scriptlet: gmp-c++-1:6.1.2-7.fc28.x86_64                          1/3 
  Installing       : gmp-devel-1:6.1.2-7.fc28.x86_64                        2/3 
  Running scriptlet: gmp-devel-1:6.1.2-7.fc28.x86_64                        2/3 
  Installing       : perl-Pod-Html-1.22.02-413.fc28.noarch                  3/3 
  Running scriptlet: perl-Pod-Html-1.22.02-413.fc28.noarch                  3/3 
  Verifying        : gmp-devel-1:6.1.2-7.fc28.x86_64                        1/3 
  Verifying        : gmp-c++-1:6.1.2-7.fc28.x86_64                          2/3 
  Verifying        : perl-Pod-Html-1.22.02-413.fc28.noarch                  3/3 

Installed:
  gmp-devel.x86_64 1:6.1.2-7.fc28     perl-Pod-Html.noarch 1.22.02-413.fc28    
  gmp-c++.x86_64 1:6.1.2-7.fc28      

Complete!
The following command needs to be run through "sudo":
    rpm -q --whatprovides gmp-devel perl-Pod-Html
gmp-devel-6.1.2-7.fc28.x86_64
perl-Pod-Html-1.22.02-413.fc28.noarch
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install ppx_traverse_builtins   v0.10.0    [required by ppx_core, ppx_metaquot]
  - install conf-gmp                1          [required by zarith]
  - install mirage-no-xen           1          [required by nocrypto]
  - install ppx_tools               5.1+4.06.0 [required by ppx_deriving]
  - install re                      1.7.3      [required by calculon-web]
  - install num                     1.1        [required by sexplib]
  - install result                  1.3        [required by calculon, sequence]
  - install ocamlbuild              0.12.0     [required by ISO8601, jsonm]
  - install mirage-no-solo5         1          [required by nocrypto]
  - install magic-mime              1.1.0      [required by cohttp-lwt-unix]
  - install base-bytes              base       [required by calculon, sequence]
  - install conf-perl               1          [required by zarith]
  - install ocaml-compiler-libs     v0.10.0    [required by ppx_core]
  - install easy-format             1.3.1      [required by atd]
  - install ppx_derivers            1.0        [required by ppx_deriving]
  - install conf-which              1          [required by biniou]
  - install sexplib                 v0.10.0    [required by cohttp]
  - install ocaml-migrate-parsetree 1.0.11     [required by fieldslib, ppx_fields_conv]
  - install uchar                   0.0.2      [required by jsonm, containers, markup]
  - install topkg                   0.9.1      [required by jsonm]
  - install menhir                  20180703   [required by atd]
  - install ISO8601                 0.2.5      [required by calculon]
  - install stringext               1.5.0      [required by calculon, cohttp]
  - install sequence                1.1        [required by calculon-web]
  - install irc-client              0.6.1      [required by calculon]
  - install cppo                    1.6.4      [required by yojson, lwt]
  - install base64                  2.2.0      [required by cohttp]
  - install zarith                  1.7        [required by nocrypto]
  - install biniou                  1.2.0      [required by atdgen]
  - install cstruct                 3.2.1      [required by tls]
  - install base                    v0.10.0    [required by fieldslib]
  - install ppx_tools_versioned     5.2        [required by lwt]
  - install ppx_ast                 v0.10.0    [required by ppx_core]
  - install containers              2.3        [required by calculon]
  - install ptime                   0.8.4      [required by tls]
  - install cmdliner                1.0.2      [required by cohttp-lwt-unix]
  - install astring                 0.8.3      [required by x509, conduit]
  - install atd                     2.0.0      [required by atdgen]
  - install cppo_ocamlbuild         1.6.0      [required by ppx_deriving]
  - install yojson                  1.4.1      [required by atdgen, calculon]
  - install stdio                   v0.10.0    [required by ppx_core]
  - install ppx_cstruct             3.2.1      [required by tls]
  - install lwt                     3.3.0      [required by cohttp-lwt, calculon, cohttp-lwt-unix] For the PPX, please install package lwt_ppx
                                                                                                   For Lwt_log and Lwt_daemon, please install package lwt_log
  - install asn1-combinators        0.2.0      [required by x509]
  - install uutf                    1.0.1      [required by jsonm, markup]
  - install fmt                     0.8.5      [required by cohttp-lwt-unix]
  - install ocb-stubblr             0.1.1      [required by nocrypto]
  - install ppx_deriving            4.2.1      [required by tls]
  - install atdgen-runtime          2.0.0      [required by atdgen]
  - install ppx_core                v0.10.0    [required by ppx_fields_conv]
  - install irc-client-lwt          0.6.1      [required by calculon]
  - install cstruct-lwt             3.2.1      [required by nocrypto]
  - install markup                  0.7.7      [required by lambdasoup]
  - install jsonm                   1.0.1      [required by cohttp]
  - install logs                    0.6.2      [required by cohttp-lwt-unix]
  - install cpuid                   0.1.1      [required by nocrypto]
  - install atdgen                  2.0.0      [required by calculon-web]
  - install ppx_optcomp             v0.10.0    [required by ppx_driver]
  - install lambdasoup              0.6.3      [required by calculon-web]
  - install ppx_driver              v0.10.4    [required by fieldslib, ppx_fields_conv]
  - install ppx_metaquot            v0.10.0    [required by ppx_fields_conv]
  - install fieldslib               v0.10.0    [required by cohttp]
  - install ppx_type_conv           v0.10.0    [required by cohttp]
  - install ppx_sexp_conv           v0.10.0    [required by cohttp]
  - install ppx_fields_conv         v0.10.0    [required by cohttp]
  - install uri                     1.9.7      [required by calculon-web]
  - install nocrypto                0.5.4-1    [required by tls]
  - install ipaddr                  2.8.0      [required by conduit-lwt-unix]
  - install cohttp                  1.1.0      [required by calculon-web]
  - install x509                    0.6.1      [required by tls]
  - install conduit                 1.1.0      [required by conduit-lwt]
  - install cohttp-lwt              1.0.2      [required by calculon-web]
  - install tls                     0.9.1      [required by calculon]
  - install conduit-lwt             1.1.0      [required by conduit-lwt-unix]
  - install irc-client-tls          0.6.1      [required by calculon]
  - install conduit-lwt-unix        1.1.0      [required by cohttp-lwt-unix]
  - install calculon                0.3        [required by calculon-web]
  - install cohttp-lwt-unix         1.0.2      [required by calculon-web]
  - install calculon-web            0.2
===== 79 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[asn1-combinators.0.2.0] found in cache
[astring.0.8.3] found in cache
[atd.2.0.0] found in cache
[atdgen.2.0.0] found in cache
[atdgen-runtime.2.0.0] found in cache
[base.v0.10.0] found in cache
[base64.2.2.0] found in cache
[biniou.1.2.0] found in cache
[calculon.0.3] found in cache
[calculon-web.0.2] found in cache
[cmdliner.1.0.2] found in cache
[cohttp.1.1.0] found in cache
[cohttp-lwt.1.0.2] found in cache
[cohttp-lwt-unix.1.0.2] found in cache
[conduit.1.1.0] found in cache
[conduit-lwt.1.1.0] found in cache
[conduit-lwt-unix.1.1.0] found in cache
[containers.2.3] found in cache
[cppo.1.6.4] found in cache
[cppo_ocamlbuild.1.6.0] found in cache
[cpuid.0.1.1] found in cache
[cstruct.3.2.1] found in cache
[cstruct-lwt.3.2.1] found in cache
[easy-format.1.3.1] found in cache
[fieldslib.v0.10.0] found in cache
[fmt.0.8.5] found in cache
[ipaddr.2.8.0] found in cache
[irc-client.0.6.1] found in cache
[irc-client-lwt.0.6.1] found in cache
[irc-client-tls.0.6.1] found in cache
[ISO8601.0.2.5] found in cache
[jsonm.1.0.1] found in cache
[lambdasoup.0.6.3] found in cache
[logs.0.6.2] found in cache
[lwt.3.3.0] found in cache
[magic-mime.1.1.0] found in cache
[markup.0.7.7] found in cache
[menhir.20180703] found in cache
[nocrypto.0.5.4-1] found in cache
[num.1.1] found in cache
[ocaml-compiler-libs.v0.10.0] found in cache
[ocaml-migrate-parsetree.1.0.11] found in cache
[ocamlbuild.0.12.0] found in cache
[ocb-stubblr.0.1.1] found in cache
[ppx_ast.v0.10.0] found in cache
[ppx_core.v0.10.0] found in cache
[ppx_cstruct.3.2.1] found in cache
[ppx_derivers.1.0] found in cache
[ppx_deriving.4.2.1] found in cache
[ppx_driver.v0.10.4] found in cache
[ppx_fields_conv.v0.10.0] found in cache
[ppx_metaquot.v0.10.0] found in cache
[ppx_optcomp.v0.10.0] found in cache
[ppx_sexp_conv.v0.10.0] found in cache
[ppx_tools.5.1+4.06.0] found in cache
[ppx_tools_versioned.5.2] found in cache
[ppx_traverse_builtins.v0.10.0] found in cache
[ppx_type_conv.v0.10.0] found in cache
[ptime.0.8.4] found in cache
[re.1.7.3] found in cache
[result.1.3] found in cache
[sequence.1.1] found in cache
[sexplib.v0.10.0] found in cache
[stdio.v0.10.0] found in cache
[stringext.1.5.0] found in cache
[tls.0.9.1] found in cache
[topkg.0.9.1] found in cache
[uchar.0.0.2] found in cache
[uri.1.9.7] found in cache
[uutf.1.0.1] found in cache
[x509.0.6.1] found in cache
[yojson.1.4.1] found in cache
[zarith.1.7] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed base-bytes.base
-> installed base64.2.2.0
-> installed conf-gmp.1
-> installed conf-perl.1
-> installed conf-which.1
-> installed cppo.1.6.4
-> installed easy-format.1.3.1
-> installed biniou.1.2.0
-> installed magic-mime.1.1.0
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed num.1.1
-> installed ocaml-compiler-libs.v0.10.0
-> installed ocamlbuild.0.12.0
-> installed cppo_ocamlbuild.1.6.0
-> installed ISO8601.0.2.5
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.1+4.06.0
-> installed ppx_traverse_builtins.v0.10.0
-> installed re.1.7.3
-> installed result.1.3
-> installed irc-client.0.6.1
-> installed ocaml-migrate-parsetree.1.0.11
-> installed menhir.20180703
-> installed ppx_ast.v0.10.0
-> installed ppx_deriving.4.2.1
-> installed ppx_tools_versioned.5.2
-> installed atd.2.0.0
-> installed sequence.1.1
-> installed sexplib.v0.10.0
-> installed cstruct.3.2.1
-> installed base.v0.10.0
-> installed lwt.3.3.0
-> installed cstruct-lwt.3.2.1
-> installed ppx_cstruct.3.2.1
-> installed stdio.v0.10.0
-> installed irc-client-lwt.0.6.1
-> installed stringext.1.5.0
-> installed topkg.0.9.1
-> installed astring.0.8.3
-> installed cmdliner.1.0.2
-> installed ppx_core.v0.10.0
-> installed ocb-stubblr.0.1.1
-> installed ppx_optcomp.v0.10.0
-> installed cpuid.0.1.1
-> installed ptime.0.8.4
-> installed uchar.0.0.2
-> installed containers.2.3
-> installed fmt.0.8.5
-> installed ppx_driver.v0.10.4
-> installed fieldslib.v0.10.0
-> installed logs.0.6.2
-> installed uutf.1.0.1
-> installed jsonm.1.0.1
-> installed ppx_metaquot.v0.10.0
-> installed markup.0.7.7
-> installed ppx_type_conv.v0.10.0
-> installed lambdasoup.0.6.3
-> installed ppx_fields_conv.v0.10.0
-> installed yojson.1.4.1
-> installed ppx_sexp_conv.v0.10.0
-> installed atdgen-runtime.2.0.0
-> installed ipaddr.2.8.0
-> installed uri.1.9.7
-> installed atdgen.2.0.0
-> installed conduit.1.1.0
-> installed cohttp.1.1.0
-> installed conduit-lwt.1.1.0
-> installed zarith.1.7
-> installed asn1-combinators.0.2.0
-> installed cohttp-lwt.1.0.2
-> installed nocrypto.0.5.4-1
-> installed x509.0.6.1
-> installed tls.0.9.1
-> installed irc-client-tls.0.6.1
-> installed conduit-lwt-unix.1.1.0
-> installed calculon.0.3
-> installed cohttp-lwt-unix.1.0.2
[ERROR] The compilation of calculon-web failed at "/home/opam/.opam/4.06/bin/jbuilder build -p calculon-web".

#=== ERROR while compiling calculon-web.0.2 ===================================#
# context              2.0.0 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/calculon-web.0.2
# command              ~/.opam/4.06/bin/jbuilder build -p calculon-web
# exit-code            1
# env-file             ~/.opam/log/calculon-web-9-8680e1.env
# output-file          ~/.opam/log/calculon-web-9-8680e1.out
### output ###
# File "src/web/jbuild", line 9, characters 15-29:
# Error: Library "irc-client.lwt" not found.
# Hint: try: dune external-lib-deps --missing -p calculon-web @install



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build calculon-web 0.2
+- 
+- The following changes have been performed
| - install asn1-combinators        0.2.0
| - install astring                 0.8.3
| - install atd                     2.0.0
| - install atdgen                  2.0.0
| - install atdgen-runtime          2.0.0
| - install base                    v0.10.0
| - install base-bytes              base
| - install base64                  2.2.0
| - install biniou                  1.2.0
| - install calculon                0.3
| - install cmdliner                1.0.2
| - install cohttp                  1.1.0
| - install cohttp-lwt              1.0.2
| - install cohttp-lwt-unix         1.0.2
| - install conduit                 1.1.0
| - install conduit-lwt             1.1.0
| - install conduit-lwt-unix        1.1.0
| - install conf-gmp                1
| - install conf-perl               1
| - install conf-which              1
| - install containers              2.3
| - install cppo                    1.6.4
| - install cppo_ocamlbuild         1.6.0
| - install cpuid                   0.1.1
| - install cstruct                 3.2.1
| - install cstruct-lwt             3.2.1
| - install easy-format             1.3.1
| - install fieldslib               v0.10.0
| - install fmt                     0.8.5
| - install ipaddr                  2.8.0
| - install irc-client              0.6.1
| - install irc-client-lwt          0.6.1
| - install irc-client-tls          0.6.1
| - install ISO8601                 0.2.5
| - install jsonm                   1.0.1
| - install lambdasoup              0.6.3
| - install logs                    0.6.2
| - install lwt                     3.3.0
| - install magic-mime              1.1.0
| - install markup                  0.7.7
| - install menhir                  20180703
| - install mirage-no-solo5         1
| - install mirage-no-xen           1
| - install nocrypto                0.5.4-1
| - install num                     1.1
| - install ocaml-compiler-libs     v0.10.0
| - install ocaml-migrate-parsetree 1.0.11
| - install ocamlbuild              0.12.0
| - install ocb-stubblr             0.1.1
| - install ppx_ast                 v0.10.0
| - install ppx_core                v0.10.0
| - install ppx_cstruct             3.2.1
| - install ppx_derivers            1.0
| - install ppx_deriving            4.2.1
| - install ppx_driver              v0.10.4
| - install ppx_fields_conv         v0.10.0
| - install ppx_metaquot            v0.10.0
| - install ppx_optcomp             v0.10.0
| - install ppx_sexp_conv           v0.10.0
| - install ppx_tools               5.1+4.06.0
| - install ppx_tools_versioned     5.2
| - install ppx_traverse_builtins   v0.10.0
| - install ppx_type_conv           v0.10.0
| - install ptime                   0.8.4
| - install re                      1.7.3
| - install result                  1.3
| - install sequence                1.1
| - install sexplib                 v0.10.0
| - install stdio                   v0.10.0
| - install stringext               1.5.0
| - install tls                     0.9.1
| - install topkg                   0.9.1
| - install uchar                   0.0.2
| - install uri                     1.9.7
| - install uutf                    1.0.1
| - install x509                    0.6.1
| - install yojson                  1.4.1
| - install zarith                  1.7
+- 

<><> containers.2.3 installed successfully ><><><><><><><><><><><><><><><><><><>
=> Containers 2.3 is a small release with a few more functions in existing modules,
   some bugfixes, and many performance improvements.

   Changelog: https://github.com/c-cube/ocaml-containers/blob/2.3/CHANGELOG.adoc
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180813060608.export"
31 1534140350 1534140696