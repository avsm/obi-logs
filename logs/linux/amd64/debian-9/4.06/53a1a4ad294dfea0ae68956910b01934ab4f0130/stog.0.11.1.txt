$ opam depext -iy -j 2 stog.0.11.1
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=debian, os-family=debian
# The following system packages are needed:
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install result      1.3    [required by topkg]
  - install base-bytes  base   [required by ocamlnet]
  - install ocamlbuild  0.12.0 [required by ocamlnet]
  - install topkg       0.9.1  [required by xmlm]
  - install ocamlnet    4.1.6  [required by stog]
  - install camlp4      4.06+1 [required by config-file]
  - install xmlm        1.3.0  [required by stog]
  - install ulex        1.2    [required by higlo]
  - install config-file 1.2    [required by stog]
  - install xtmpl       0.10   [required by stog]
  - install higlo       0.4    [required by stog]
  - install stog        0.11.1
===== 12 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[camlp4.4.06+1] found in cache
[config-file.1.2] found in cache
[higlo.0.4] found in cache
[ocamlbuild.0.12.0] found in cache
[ocamlnet.4.1.6] found in cache
[result.1.3] found in cache
[stog.0.11.1] found in cache
[topkg.0.9.1] found in cache
[ulex.1.2] found in cache
[xmlm.1.3.0] found in cache
[xtmpl.0.10] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed base-bytes.base
-> installed result.1.3
-> installed ocamlbuild.0.12.0
-> installed camlp4.4.06+1
-> installed config-file.1.2
-> installed topkg.0.9.1
-> installed ulex.1.2
-> installed xmlm.1.3.0
-> installed xtmpl.0.10
-> installed higlo.0.4
-> installed ocamlnet.4.1.6
[ERROR] The compilation of stog failed at "/usr/bin/make all".

#=== ERROR while compiling stog.0.11.1 ========================================#
# context              2.0.0 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/stog.0.11.1
# command              /usr/bin/make all
# exit-code            2
# env-file             ~/.opam/log/stog-11-fe3fe6.env
# output-file          ~/.opam/log/stog-11-fe3fe6.out
### output ###
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_msg.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_misc.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_highlight.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_config.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_trie.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_tmap.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_graph.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_path.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_filter_types.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_types.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_intl.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_find.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_tags.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_io.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_info.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_ocaml_types.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_deps.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_tmpl.mli
# ocamlyacc -v stog_filter_parser.mly
# 6 shift/reduce conflicts.
# make: Circular stog_filter_parser.cmi <- stog_filter_parser.cmi dependency dropped.
# if test -f `dirname stog_filter_parser.ml`/`basename stog_filter_parser.ml .ml`.mli && test ! -f `dirname stog_filter_parser.ml`/`basename stog_filter_parser.ml .ml`.cmi ; then \
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c `dirname stog_filter_parser.ml`/`basename stog_filter_parser.ml .ml`.mli; fi
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_filter_parser.ml
# ocamllex stog_filter_lexer.mll
# 22 states, 335 transitions, table size 1472 bytes
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -i stog_filter_lexer.ml > stog_filter_lexer.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_filter_lexer.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_filter.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_html5.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_engine.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_ocaml.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_svg.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_of_latex.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_latex.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_cut.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_list.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_html.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_blocks.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_plug.mli
# ocamlfind ocamlc -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_dyn.mli
# ocamlfind ocamlopt -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_msg.ml
# ocamlfind ocamlopt -package xmlm,xtmpl,netstring,config-file,dynlink,unix,str,higlo.lexers  -I +ocamldoc -annot -rectypes -g  -c stog_misc.ml
# File "stog_misc.ml", line 118, characters 10-23:
# Warning 3: deprecated: String.create
# Use Bytes.create instead.
# File "stog_misc.ml", line 127, characters 34-35:
# Error: This expression has type bytes but an expression was expected of type
#          string
# Makefile:323: recipe for target 'stog_misc.cmx' failed
# make: *** [stog_misc.cmx] Error 2



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build stog 0.11.1
+- 
+- The following changes have been performed
| - install base-bytes  base
| - install camlp4      4.06+1
| - install config-file 1.2
| - install higlo       0.4
| - install ocamlbuild  0.12.0
| - install ocamlnet    4.1.6
| - install result      1.3
| - install topkg       0.9.1
| - install ulex        1.2
| - install xmlm        1.3.0
| - install xtmpl       0.10
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180828214729.export"
31 1535492847 1535492993