$ opam depext -iy -j 2 aws-s3.1.1.0
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=fedora, os-family=fedora
# The following system packages are needed:
gcc-c++
gmp
gmp-devel
m4
pcre-devel
perl-Pod-Html
pkgconfig
which
zlib-devel
Name        : gcc-c++
Version     : 8.1.1
Release     : 5.fc28
Architecture: x86_64
Install Date: Wed Aug 15 06:42:13 2018
Group       : Development/Languages
Size        : 30589214
License     : GPLv3+ and GPLv3+ with exceptions and GPLv2+ with exceptions and LGPLv2+ and BSD
Signature   : RSA/SHA256, Mon Jul 16 13:05:44 2018, Key ID e08e7e629db62fb1
Source RPM  : gcc-8.1.1-5.fc28.src.rpm
Build Date  : Thu Jul 12 20:08:05 2018
Build Host  : buildvm-31.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://gcc.gnu.org
Bug URL     : https://bugz.fedoraproject.org/gcc
Summary     : C++ support for GCC
Description :
This package adds C++ support to the GNU Compiler Collection.
It includes support for most of the current C++ specification,
including templates and exception handling.
Name        : gmp
Epoch       : 1
Version     : 6.1.2
Release     : 7.fc28
Architecture: x86_64
Install Date: Thu Apr 26 13:03:41 2018
Group       : System Environment/Libraries
Size        : 802883
License     : LGPLv3+ or GPLv2+
Signature   : RSA/SHA256, Thu Feb  8 08:28:20 2018, Key ID e08e7e629db62fb1
Source RPM  : gmp-6.1.2-7.fc28.src.rpm
Build Date  : Wed Feb  7 15:25:15 2018
Build Host  : buildhw-02.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://gmplib.org/
Summary     : A GNU arbitrary precision library
Description :
The gmp package contains GNU MP, a library for arbitrary precision
arithmetic, signed integers operations, rational numbers and floating
point numbers. GNU MP is designed for speed, for both small and very
large operands. GNU MP is fast because it uses fullwords as the basic
arithmetic type, it uses fast algorithms, it carefully optimizes
assembly code for many CPUs' most common inner loops, and it generally
emphasizes speed over simplicity/elegance in its operations.

Install the gmp package if you need a fast arbitrary precision
library.
package gmp-devel is not installed
Name        : m4
Version     : 1.4.18
Release     : 6.fc28
Architecture: x86_64
Install Date: Wed Aug 15 20:05:28 2018
Group       : Applications/Text
Size        : 372272
License     : GPLv3+
Signature   : RSA/SHA256, Sun Feb 25 11:01:47 2018, Key ID e08e7e629db62fb1
Source RPM  : m4-1.4.18-6.fc28.src.rpm
Build Date  : Sun Feb 25 10:58:14 2018
Build Host  : buildvm-25.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://www.gnu.org/software/m4/
Bug URL     : https://bugz.fedoraproject.org/m4
Summary     : The GNU macro processor
Description :
A GNU implementation of the traditional UNIX macro processor.  M4 is
useful for writing text files which can be logically parsed, and is used
by many programs as part of their build process.  M4 has built-in
functions for including files, running shell commands, doing arithmetic,
etc.  The autoconf program needs m4 for generating configure scripts, but
not for running configure scripts.

Install m4 if you need a macro processor.
package pcre-devel is not installed
package perl-Pod-Html is not installed
package pkgconfig is not installed
Name        : which
Version     : 2.21
Release     : 8.fc28
Architecture: x86_64
Install Date: Wed Aug 15 06:42:14 2018
Group       : Unspecified
Size        : 79310
License     : GPLv3
Signature   : RSA/SHA256, Fri Feb 16 17:11:18 2018, Key ID e08e7e629db62fb1
Source RPM  : which-2.21-8.fc28.src.rpm
Build Date  : Fri Feb 16 17:06:50 2018
Build Host  : buildvm-05.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : https://savannah.gnu.org/projects/which/
Summary     : Displays where a particular program in your path is located
Description :
The which command shows the full pathname of a specified program, if
the specified program is in your PATH.
package zlib-devel is not installed
# The following new OS packages need to be installed: gmp-devel pcre-devel perl-Pod-Html pkgconfig zlib-devel
The following command needs to be run through "sudo":
    yum install -y gmp-devel pcre-devel perl-Pod-Html pkgconfig zlib-devel
Fedora 28 - x86_64 - Updates                     46 MB/s |  22 MB     00:00    
Last metadata expiration check: 0:00:07 ago on Thu Aug 16 02:19:06 2018.
Package pkgconf-pkg-config-1.4.2-1.fc28.x86_64 is already installed, skipping.
Dependencies resolved.
================================================================================
 Package             Arch         Version                   Repository     Size
================================================================================
Installing:
 gmp-devel           x86_64       1:6.1.2-7.fc28            fedora        187 k
 pcre-devel          x86_64       8.42-2.fc28               updates       550 k
 perl-Pod-Html       noarch       1.22.02-413.fc28          updates        85 k
 zlib-devel          x86_64       1.2.11-8.fc28             updates        55 k
Installing dependencies:
 gmp-c++             x86_64       1:6.1.2-7.fc28            fedora         31 k
 pcre-cpp            x86_64       8.42-2.fc28               updates        46 k
 pcre-utf16          x86_64       8.42-2.fc28               updates       193 k
 pcre-utf32          x86_64       8.42-2.fc28               updates       184 k

Transaction Summary
================================================================================
Install  8 Packages

Total download size: 1.3 M
Installed size: 3.1 M
Downloading Packages:
(1/8): pcre-devel-8.42-2.fc28.x86_64.rpm        7.4 MB/s | 550 kB     00:00    
(2/8): gmp-c++-6.1.2-7.fc28.x86_64.rpm          389 kB/s |  31 kB     00:00    
(3/8): pcre-cpp-8.42-2.fc28.x86_64.rpm          5.1 MB/s |  46 kB     00:00    
(4/8): gmp-devel-6.1.2-7.fc28.x86_64.rpm        1.7 MB/s | 187 kB     00:00    
(5/8): pcre-utf16-8.42-2.fc28.x86_64.rpm        5.7 MB/s | 193 kB     00:00    
(6/8): zlib-devel-1.2.11-8.fc28.x86_64.rpm      4.4 MB/s |  55 kB     00:00    
(7/8): perl-Pod-Html-1.22.02-413.fc28.noarch.rp 451 kB/s |  85 kB     00:00    
(8/8): pcre-utf32-8.42-2.fc28.x86_64.rpm        809 kB/s | 184 kB     00:00    
--------------------------------------------------------------------------------
Total                                           811 kB/s | 1.3 MB     00:01     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : pcre-utf32-8.42-2.fc28.x86_64                          1/8 
  Installing       : pcre-utf16-8.42-2.fc28.x86_64                          2/8 
  Installing       : pcre-cpp-8.42-2.fc28.x86_64                            3/8 
  Installing       : gmp-c++-1:6.1.2-7.fc28.x86_64                          4/8 
  Running scriptlet: gmp-c++-1:6.1.2-7.fc28.x86_64                          4/8 
  Installing       : gmp-devel-1:6.1.2-7.fc28.x86_64                        5/8 
  Running scriptlet: gmp-devel-1:6.1.2-7.fc28.x86_64                        5/8 
  Installing       : pcre-devel-8.42-2.fc28.x86_64                          6/8 
  Installing       : zlib-devel-1.2.11-8.fc28.x86_64                        7/8 
  Installing       : perl-Pod-Html-1.22.02-413.fc28.noarch                  8/8 
  Running scriptlet: perl-Pod-Html-1.22.02-413.fc28.noarch                  8/8 
  Verifying        : gmp-devel-1:6.1.2-7.fc28.x86_64                        1/8 
  Verifying        : gmp-c++-1:6.1.2-7.fc28.x86_64                          2/8 
  Verifying        : pcre-devel-8.42-2.fc28.x86_64                          3/8 
  Verifying        : pcre-cpp-8.42-2.fc28.x86_64                            4/8 
  Verifying        : pcre-utf16-8.42-2.fc28.x86_64                          5/8 
  Verifying        : pcre-utf32-8.42-2.fc28.x86_64                          6/8 
  Verifying        : perl-Pod-Html-1.22.02-413.fc28.noarch                  7/8 
  Verifying        : zlib-devel-1.2.11-8.fc28.x86_64                        8/8 

Installed:
  gmp-devel.x86_64 1:6.1.2-7.fc28           pcre-devel.x86_64 8.42-2.fc28      
  perl-Pod-Html.noarch 1.22.02-413.fc28     zlib-devel.x86_64 1.2.11-8.fc28    
  gmp-c++.x86_64 1:6.1.2-7.fc28             pcre-cpp.x86_64 8.42-2.fc28        
  pcre-utf16.x86_64 8.42-2.fc28             pcre-utf32.x86_64 8.42-2.fc28      

Complete!
The following command needs to be run through "sudo":
    rpm -q --whatprovides gmp-devel pcre-devel perl-Pod-Html pkgconfig zlib-devel
gmp-devel-6.1.2-7.fc28.x86_64
pcre-devel-8.42-2.fc28.x86_64
perl-Pod-Html-1.22.02-413.fc28.noarch
pkgconf-pkg-config-1.4.2-1.fc28.x86_64
zlib-devel-1.2.11-8.fc28.x86_64
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install   conf-gmp                1                        [required by conf-gmp-powm-sec, zarith]
  - install   mirage-no-xen           1                        [required by nocrypto]
  - install   ppx_tools               5.1+4.06.0               [required by ppx_deriving]
  - install   num                     1.1                      [required by sexplib]
  - install   ocamlbuild              0.12.0                   [required by nocrypto, cryptokit, ounit]
  - install   xml-light               2.4                      [required by aws-s3]
  - install   mirage-no-solo5         1                        [required by nocrypto]
  - install   base-bytes              base                     [required by ounit]
  - install   conf-perl               1                        [required by zarith]
  - install   conf-pkg-config         1.1                      [required by conf-zlib]
  - remove    dune                    1.1.1                    [conflicts with jbuilder]
  - install   conf-which              1                        [required by biniou]
  - install   conf-gmp-powm-sec       1                        [required by cryptokit]
  - install   uchar                   0.0.2                    [required by jsonm]
  - install   ounit                   2.0.8                    [required by aws-s3]
  - install   zarith                  1.7                      [required by cryptokit, nocrypto]
  - install   conf-zlib               1                        [required by cryptokit]
  - install   conf-libpcre            1                        [required by pcre]
  - downgrade jbuilder                transition to 1.0+beta17 [required by aws-s3]
  - install   cryptokit               1.13                     [required by aws-s3]
  - install   stringext               1.5.0                    [required by cohttp]
  - install   spawn                   v0.9.0                   [required by core]
  - install   sexplib                 v0.9.3                   [required by nocrypto]
  - install   result                  1.3                      [required by cpuid, ppx_deriving]
  - install   re                      1.7.3                    [required by cohttp]
  - install   ppx_traverse_builtins   v0.9.0                   [required by ppx_core, ppx_metaquot]
  - install   ppx_derivers            1.0                      [required by ppx_deriving]
  - install   octavius                1.2.0                    [required by ppx_js_style]
  - install   ocaml-compiler-libs     v0.9.0                   [required by ppx_core]
  - install   magic-mime              1.1.0                    [required by cohttp-async]
  - install   jane-street-headers     v0.9.0                   [required by core_kernel]
  - install   easy-format             1.3.1                    [required by yojson]
  - install   cppo                    1.6.4                    [required by ppx_deriving, yojson]
  - install   base64                  2.2.0                    [required by cohttp]
  - install   cstruct                 3.2.1                    [required by nocrypto]
  - install   base                    v0.9.4                   [required by ppx_deriving_protocol]
  - install   topkg                   0.9.1                    [required by nocrypto]
  - install   ocaml-migrate-parsetree 1.0.7                    [required by async, async_extended]
  - install   biniou                  1.2.0                    [required by yojson]
  - install   lwt                     4.1.0                    [required by nocrypto]                                      For the PPX, please install package lwt_ppx
                                                                                                                           For Lwt_log and Lwt_daemon, please install package lwt_log
  - install   cppo_ocamlbuild         1.6.0                    [required by ppx_deriving]
  - install   typerep                 v0.9.0                   [required by core_kernel]
  - install   stdio                   v0.9.1                   [required by pcre]
  - install   uutf                    1.0.1                    [required by jsonm]
  - install   fmt                     0.8.5                    [required by cohttp-async]
  - install   astring                 0.8.3                    [required by conduit, ocb-stubblr]
  - install   ppx_ast                 v0.9.2                   [required by ppx_core]
  - install   yojson                  1.4.1                    [required by aws-s3]
  - install   inotify                 2.3                      [required by async_inotify]
  - install   cstruct-lwt             3.2.1                    [required by nocrypto]
  - install   ppx_deriving            4.2.1                    [required by nocrypto]
  - install   jsonm                   1.0.1                    [required by cohttp]
  - install   logs                    0.6.2                    [required by cohttp-async]
  - install   ocb-stubblr             0.1.1                    [required by nocrypto]
  - install   ppx_core                v0.9.3                   [required by ppx_deriving_protocol]
  - install   cpuid                   0.1.1                    [required by nocrypto]
  - install   ppx_optcomp             v0.9.0                   [required by ppx_driver]
  - install   ppx_driver              v0.9.2                   [required by async_extended, async, ppx_deriving_protocol]
  - install   variantslib             v0.9.0                   [required by core_kernel]
  - install   ppx_metaquot            v0.9.0                   [required by ppx_deriving_protocol]
  - install   ppx_let                 v0.9.0                   [required by ppx_jane]
  - install   ppx_here                v0.9.1                   [required by ppx_assert, ppx_jane]
  - install   fieldslib               v0.9.0                   [required by cohttp]
  - install   ppx_type_conv           v0.9.1                   [required by ppx_deriving_protocol]
  - install   ppx_pipebang            v0.9.0                   [required by ppx_jane]
  - install   ppx_optional            v0.9.0                   [required by ppx_jane]
  - install   ppx_js_style            v0.9.0                   [required by ppx_base]
  - install   ppx_inline_test         v0.9.2                   [required by core_kernel]
  - install   ppx_fail                v0.9.0                   [required by ppx_jane]
  - install   ppx_variants_conv       v0.9.0                   [required by bin_prot, ppx_jane]
  - install   ppx_typerep_conv        v0.9.0                   [required by ppx_jane]
  - install   ppx_traverse            v0.9.0                   [required by ppx_custom_printf, ppx_expect]
  - install   ppx_sexp_conv           v0.9.0                   [required by nocrypto]
  - install   ppx_fields_conv         v0.9.0                   [required by cohttp]
  - install   ppx_enumerate           v0.9.0                   [required by ppx_base]
  - install   ppx_deriving_protocol   0.8                      [required by aws-s3]
  - install   ppx_compare             v0.9.0                   [required by bin_prot, ppx_assert]
  - install   ppx_bench               v0.9.1                   [required by ppx_jane]
  - install   uri                     1.9.7                    [required by cohttp]
  - install   ppx_sexp_value          v0.9.0                   [required by ppx_jane]
  - install   ppx_sexp_message        v0.9.0                   [required by core_kernel]
  - install   ppx_custom_printf       v0.9.0                   [required by bin_prot, ppx_jane]
  - install   nocrypto                0.5.4-1                  [required by aws-s3]
  - install   ipaddr                  2.8.0                    [required by conduit]
  - install   ppx_hash                v0.9.0                   [required by core_kernel]
  - install   ppx_assert              v0.9.0                   [required by core_kernel, core]
  - install   cohttp                  1.1.0                    [required by cohttp-async]
  - install   bin_prot                v0.9.2                   [required by core_extended]
  - install   conduit                 1.1.0                    [required by conduit-async]
  - install   ppx_base                v0.9.0                   [required by core_kernel]
  - install   ppx_expect              v0.9.0                   [required by ppx_jane]
  - install   ppx_bin_prot            v0.9.0                   [required by ppx_jane]
  - install   configurator            v0.9.1                   [required by pcre]
  - install   ppx_jane                v0.9.0                   [required by async, async_extended]
  - install   pcre                    7.3.4                    [required by ocaml-inifiles]
  - install   core_kernel             v0.9.1                   [required by async_rpc_kernel, async_kernel, core_extended]
  - install   ocaml-inifiles          1.2                      [required by aws-s3]
  - install   re2                     v0.9.1                   [required by core_extended]
  - install   core                    v0.9.2                   [required by aws-s3]
  - install   async_kernel            v0.9.0                   [required by async]
  - install   textutils               v0.9.0                   [required by async_extended]
  - install   async_unix              v0.9.1                   [required by async]
  - install   async_rpc_kernel        v0.9.0                   [required by async_extra]
  - install   core_extended           v0.9.1                   [required by async_extended]
  - install   async_extra             v0.9.0                   [required by async]
  - install   async                   v0.9.0                   [required by aws-s3]
  - install   conduit-async           1.0.0                    [required by cohttp-async]
  - install   command_rpc             v0.9.0                   [required by async_extended]
  - install   async_shell             v0.9.1                   [required by async_extended]
  - install   async_interactive       v0.9.0                   [required by async_extended]
  - install   async_find              v0.9.0                   [required by async_extended]
  - install   cohttp-async            1.0.0                    [required by aws-s3]
  - install   async_inotify           v0.9.0                   [required by async_extended]
  - install   async_extended          v0.9.0                   [required by aws-s3]
  - install   aws-s3                  1.1.0
===== 113 to install | 1 to downgrade | 1 to remove =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[astring.0.8.3] found in cache
[async.v0.9.0] found in cache
[async_extended.v0.9.0] found in cache
[async_extra.v0.9.0] found in cache
[async_find.v0.9.0] found in cache
[async_inotify.v0.9.0] found in cache
[async_interactive.v0.9.0] found in cache
[async_kernel.v0.9.0] found in cache
[async_rpc_kernel.v0.9.0] found in cache
[async_shell.v0.9.1] found in cache
[async_unix.v0.9.1] found in cache
[aws-s3.1.1.0] found in cache
[base.v0.9.4] found in cache
[base64.2.2.0] found in cache
[bin_prot.v0.9.2] found in cache
[biniou.1.2.0] found in cache
[cohttp.1.1.0] found in cache
[cohttp-async.1.0.0] found in cache
[command_rpc.v0.9.0] found in cache
[conduit.1.1.0] found in cache
[conduit-async.1.0.0] found in cache
[configurator.v0.9.1] found in cache
[core.v0.9.2] found in cache
[core_extended.v0.9.1] found in cache
[core_kernel.v0.9.1] found in cache
[cppo.1.6.4] found in cache
[cppo_ocamlbuild.1.6.0] found in cache
[cpuid.0.1.1] found in cache
[cryptokit.1.13] found in cache
[cstruct.3.2.1] found in cache
[cstruct-lwt.3.2.1] found in cache
[easy-format.1.3.1] found in cache
[fieldslib.v0.9.0] found in cache
[fmt.0.8.5] found in cache
[inotify.2.3] found in cache
[ipaddr.2.8.0] found in cache
[jane-street-headers.v0.9.0] found in cache
[jbuilder.1.0+beta17] found in cache
[jsonm.1.0.1] found in cache
[logs.0.6.2] found in cache
[lwt.4.1.0] found in cache
[magic-mime.1.1.0] found in cache
[nocrypto.0.5.4-1] found in cache
[num.1.1] found in cache
[ocaml-compiler-libs.v0.9.0] found in cache
[ocaml-inifiles.1.2] found in cache
[ocaml-migrate-parsetree.1.0.7] found in cache
[ocamlbuild.0.12.0] found in cache
[ocb-stubblr.0.1.1] found in cache
[octavius.1.2.0] found in cache
[ounit.2.0.8] found in cache
[pcre.7.3.4] found in cache
[ppx_assert.v0.9.0] found in cache
[ppx_ast.v0.9.2] found in cache
[ppx_base.v0.9.0] found in cache
[ppx_bench.v0.9.1] found in cache
[ppx_bin_prot.v0.9.0] found in cache
[ppx_compare.v0.9.0] found in cache
[ppx_core.v0.9.3] found in cache
[ppx_custom_printf.v0.9.0] found in cache
[ppx_derivers.1.0] found in cache
[ppx_deriving.4.2.1] found in cache
[ppx_deriving_protocol.0.8] found in cache
[ppx_driver.v0.9.2] found in cache
[ppx_enumerate.v0.9.0] found in cache
[ppx_expect.v0.9.0] found in cache
[ppx_fail.v0.9.0] found in cache
[ppx_fields_conv.v0.9.0] found in cache
[ppx_hash.v0.9.0] found in cache
[ppx_here.v0.9.1] found in cache
[ppx_inline_test.v0.9.2] found in cache
[ppx_jane.v0.9.0] found in cache
[ppx_js_style.v0.9.0] found in cache
[ppx_let.v0.9.0] found in cache
[ppx_metaquot.v0.9.0] found in cache
[ppx_optcomp.v0.9.0] found in cache
[ppx_optional.v0.9.0] found in cache
[ppx_pipebang.v0.9.0] found in cache
[ppx_sexp_conv.v0.9.0] found in cache
[ppx_sexp_message.v0.9.0] found in cache
[ppx_sexp_value.v0.9.0] found in cache
[ppx_tools.5.1+4.06.0] found in cache
[ppx_traverse.v0.9.0] found in cache
[ppx_traverse_builtins.v0.9.0] found in cache
[ppx_type_conv.v0.9.1] found in cache
[ppx_typerep_conv.v0.9.0] found in cache
[ppx_variants_conv.v0.9.0] found in cache
[re.1.7.3] found in cache
[re2.v0.9.1] found in cache
[result.1.3] found in cache
[sexplib.v0.9.3] found in cache
[spawn.v0.9.0] found in cache
[stdio.v0.9.1] found in cache
[stringext.1.5.0] found in cache
[textutils.v0.9.0] found in cache
[topkg.0.9.1] found in cache
[typerep.v0.9.0] found in cache
[uchar.0.0.2] found in cache
[uri.1.9.7] found in cache
[uutf.1.0.1] found in cache
[variantslib.v0.9.0] found in cache
[xml-light.2.4] found in cache
[yojson.1.4.1] found in cache
[zarith.1.7] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> removed   jbuilder.transition
-> removed   dune.1.1.1
-> installed base-bytes.base
-> installed conf-gmp.1
-> installed conf-gmp-powm-sec.1
-> installed conf-perl.1
-> installed conf-pkg-config.1.1
-> installed conf-libpcre.1
-> installed conf-which.1
-> installed conf-zlib.1
-> installed jbuilder.1.0+beta17
-> installed base64.2.2.0
-> installed cppo.1.6.4
-> installed easy-format.1.3.1
-> installed jane-street-headers.v0.9.0
-> installed magic-mime.1.1.0
-> installed mirage-no-solo5.1
-> installed mirage-no-xen.1
-> installed num.1.1
-> installed biniou.1.2.0
-> installed ocaml-compiler-libs.v0.9.0
-> installed ocamlbuild.0.12.0
-> installed cppo_ocamlbuild.1.6.0
-> installed octavius.1.2.0
-> installed ppx_derivers.1.0
-> installed ppx_tools.5.1+4.06.0
-> installed ppx_traverse_builtins.v0.9.0
-> installed re.1.7.3
-> installed result.1.3
-> installed lwt.4.1.0
-> installed ocaml-migrate-parsetree.1.0.7
-> installed inotify.2.3
-> installed ounit.2.0.8
-> installed ppx_ast.v0.9.2
-> installed sexplib.v0.9.3
-> installed cstruct.3.2.1
-> installed cstruct-lwt.3.2.1
-> installed ppx_deriving.4.2.1
-> installed spawn.v0.9.0
-> installed stringext.1.5.0
-> installed topkg.0.9.1
-> installed base.v0.9.4
-> installed astring.0.8.3
-> installed stdio.v0.9.1
-> installed ocb-stubblr.0.1.1
-> installed cpuid.0.1.1
-> installed typerep.v0.9.0
-> installed uchar.0.0.2
-> installed fmt.0.8.5
-> installed ppx_core.v0.9.3
-> installed logs.0.6.2
-> installed uutf.1.0.1
-> installed ppx_optcomp.v0.9.0
-> installed jsonm.1.0.1
-> installed xml-light.2.4
-> installed ppx_driver.v0.9.2
-> installed fieldslib.v0.9.0
-> installed ppx_here.v0.9.1
-> installed ppx_let.v0.9.0
-> installed variantslib.v0.9.0
-> installed yojson.1.4.1
-> installed zarith.1.7
-> installed ppx_metaquot.v0.9.0
-> installed cryptokit.1.13
-> installed ppx_fail.v0.9.0
-> installed ppx_inline_test.v0.9.2
-> installed ppx_js_style.v0.9.0
-> installed ppx_optional.v0.9.0
-> installed ppx_pipebang.v0.9.0
-> installed ppx_type_conv.v0.9.1
-> installed ppx_bench.v0.9.1
-> installed ppx_compare.v0.9.0
-> installed ppx_deriving_protocol.0.8
-> installed ppx_enumerate.v0.9.0
-> installed ppx_fields_conv.v0.9.0
-> installed ppx_sexp_conv.v0.9.0
-> installed ipaddr.2.8.0
-> installed nocrypto.0.5.4-1
-> installed ppx_assert.v0.9.0
-> installed ppx_hash.v0.9.0
-> installed ppx_sexp_message.v0.9.0
-> installed ppx_sexp_value.v0.9.0
-> installed ppx_traverse.v0.9.0
-> installed ppx_base.v0.9.0
-> installed configurator.v0.9.1
-> installed ppx_custom_printf.v0.9.0
-> installed ppx_typerep_conv.v0.9.0
-> installed ppx_variants_conv.v0.9.0
-> installed bin_prot.v0.9.2
-> installed pcre.7.3.4
-> installed ocaml-inifiles.1.2
-> installed ppx_expect.v0.9.0
-> installed uri.1.9.7
-> installed conduit.1.1.0
-> installed ppx_bin_prot.v0.9.0
-> installed cohttp.1.1.0
-> installed ppx_jane.v0.9.0
-> installed core_kernel.v0.9.1
-> installed async_kernel.v0.9.0
-> installed async_rpc_kernel.v0.9.0
-> installed core.v0.9.2
-> installed async_unix.v0.9.1
-> installed async_extra.v0.9.0
-> installed async.v0.9.0
-> installed async_find.v0.9.0
-> installed async_interactive.v0.9.0
-> installed command_rpc.v0.9.0
-> installed conduit-async.1.0.0
-> installed async_inotify.v0.9.0
-> installed re2.v0.9.1
-> installed textutils.v0.9.0
-> installed cohttp-async.1.0.0
[ERROR] The compilation of core_extended failed at "/home/opam/.opam/4.06/bin/jbuilder build -p core_extended -j 71".

#=== ERROR while compiling core_extended.v0.9.1 ===============================#
# context              2.0.0 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/core_extended.v0.9.1
# command              ~/.opam/4.06/bin/jbuilder build -p core_extended -j 71
# exit-code            1
# env-file             ~/.opam/log/core_extended-10-2b48bc.env
# output-file          ~/.opam/log/core_extended-10-2b48bc.out
### output ###
#       ocamlc src/core_extended.{cmi,cmo,cmt}
#     ocamlopt src/core_extended.{cmx,o}
#         bash src/config_ext.h
#       ocamlc src/extended_int_stubs.o
#       ocamlc src/malloc_stubs.o
#       ocamlc src/posix_clock_stubs.o
#       ocamlc src/unix_pseudo_terminal_stubs.o
#       ocamlc src/extended_unix_stubs.o (exit 2)
# (cd _build/default/src && /home/opam/.opam/4.06/bin/ocamlc.opt -g -I /home/opam/.opam/4.06/lib/base -I /home/opam/.opam/4.06/lib/base/caml -I /home/opam/.opam/4.06/lib/base/shadow_stdlib -I /home/opam/.opam/4.06/lib/bin_prot -I /home/opam/.opam/4.06/lib/bin_prot/shape -I /home/opam/.opam/4.06/lib/core -I /home/opam/.opam/4.06/lib/core_kernel -I /home/opam/.opam/4.06/lib/core_kernel/base_for_tests -I /home/opam/.opam/4.06/lib/fieldslib -I /home/opam/.opam/4.06/lib/jane-street-headers -I /home/opam/.opam/4.06/lib/num -I /home/opam/.opam/4.06/lib/ocaml -I /home/opam/.opam/4.06/lib/ocaml/threads -I /home/opam/.opam/4.06/lib/ppx_assert/runtime-lib -I /home/opam/.opam/4.06/lib/ppx_bench/runtime-lib -I /home/opam/.opam/4.06/lib/ppx_compare/runtime-lib -I /home/opam/.opam/4.06/lib/ppx_expect/collector -I /home/opam/.opam/4.06/lib/ppx_expect/common -I /home/opam/.opam/4.06/lib/ppx_expect/config -I /home/opam/.opam/4.06/lib/ppx_hash/runtime-lib -I /home/opam/.opam/4.06/lib/ppx_inline_test/config -I /home/opam/.opam/4.06/lib/ppx_inline_test/runtime-lib -I /home/opam/.opam/4.06/lib/re2 -I /home/opam/.opam/4.06/lib/re2/c -I /home/opam/.opam/4.06/lib/sexplib -I /home/opam/.opam/4.06/lib/sexplib/0 -I /home/opam/.opam/4.06/lib/sexplib/num -I /home/opam/.opam/4.06/lib/sexplib/unix -I /home/opam/.opam/4.06/lib/spawn -I /home/opam/.opam/4.06/lib/stdio -I /home/opam/.opam/4.06/lib/textutils -I /home/opam/.opam/4.06/lib/typerep -I /home/opam/.opam/4.06/lib/variantslib -ccopt -g -o extended_unix_stubs.o extended_unix_stubs.c)
# extended_unix_stubs.c: In function 'quota_query':
# /home/opam/.opam/4.06/lib/ocaml/caml/mlvalues.h:258:24: warning: passing argument 1 of 'quotactl' makes integer from pointer without a cast [-Wint-conversion]
#  #define String_val(x) ((char *) Bp_val(x))
# extended_unix_stubs.c:107:16: note: in definition of macro 'quota_control'
#       quotactl((device), (cmd), (id), (parg))
#                 ^~~~~~
# extended_unix_stubs.c:156:21: note: in expansion of macro 'String_val'
#    if (quota_control(String_val(v_path), cmd, id, (caddr_t)&quota))
#                      ^~~~~~~~~~
# In file included from extended_unix_stubs.c:19:
# /usr/include/sys/quota.h:130:26: note: expected 'int' but argument is of type 'char *'
#  extern int quotactl (int __cmd, const char *__special, int __id,
#                       ~~~~^~~~~
# extended_unix_stubs.c:107:25: warning: passing argument 2 of 'quotactl' makes pointer from integer without a cast [-Wint-conversion]
#       quotactl((device), (cmd), (id), (parg))
#                          ^~~~~
# extended_unix_stubs.c:156:7: note: in expansion of macro 'quota_control'
#    if (quota_control(String_val(v_path), cmd, id, (caddr_t)&quota))
#        ^~~~~~~~~~~~~
# In file included from extended_unix_stubs.c:19:
# /usr/include/sys/quota.h:130:45: note: expected 'const char *' but argument is of type 'int'
#  extern int quotactl (int __cmd, const char *__special, int __id,
#                                  ~~~~~~~~~~~~^~~~~~~~~
# extended_unix_stubs.c:109:44: error: 'struct dqblk' has no member named 'dqb_curbytes'; did you mean 'dqb_curinodes'?
#  #  define QUOTA_SPACE_USED(quota) ((quota).dqb_curbytes)
#                                             ^~~~~~~~~~~~
# extended_unix_stubs.c:159:55: note: in expansion of macro 'QUOTA_SPACE_USED'
#    bytes_used = QUOTA_BYTES_PER_SPACE_UNIT * (int64_t) QUOTA_SPACE_USED(quota);
#                                                        ^~~~~~~~~~~~~~~~
# extended_unix_stubs.c: In function 'quota_modify':
# /home/opam/.opam/4.06/lib/ocaml/caml/mlvalues.h:258:24: warning: passing argument 1 of 'quotactl' makes integer from pointer without a cast [-Wint-conversion]
#  #define String_val(x) ((char *) Bp_val(x))
# extended_unix_stubs.c:107:16: note: in definition of macro 'quota_control'
#       quotactl((device), (cmd), (id), (parg))
#                 ^~~~~~
# extended_unix_stubs.c:204:21: note: in expansion of macro 'String_val'
#    if (quota_control(String_val(v_path), cmd, id, (caddr_t)&quota))
#                      ^~~~~~~~~~
# In file included from extended_unix_stubs.c:19:
# /usr/include/sys/quota.h:130:26: note: expected 'int' but argument is of type 'char *'
#  extern int quotactl (int __cmd, const char *__special, int __id,
#                       ~~~~^~~~~
# extended_unix_stubs.c:107:25: warning: passing argument 2 of 'quotactl' makes pointer from integer without a cast [-Wint-conversion]
#       quotactl((device), (cmd), (id), (parg))
#                          ^~~~~
# extended_unix_stubs.c:204:7: note: in expansion of macro 'quota_control'
#    if (quota_control(String_val(v_path), cmd, id, (caddr_t)&quota))
#        ^~~~~~~~~~~~~
# In file included from extended_unix_stubs.c:19:
# /usr/include/sys/quota.h:130:45: note: expected 'const char *' but argument is of type 'int'
#  extern int quotactl (int __cmd, const char *__special, int __id,
#                                  ~~~~~~~~~~~~^~~~~~~~~
# 
# Waiting for 1 job to finish.



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build core_extended v0.9.1
+- 
+- The following changes have been performed (the rest was aborted)
| - remove    dune                    1.1.1
| - downgrade jbuilder                transition to 1.0+beta17
| - install   astring                 0.8.3
| - install   async                   v0.9.0
| - install   async_extra             v0.9.0
| - install   async_find              v0.9.0
| - install   async_inotify           v0.9.0
| - install   async_interactive       v0.9.0
| - install   async_kernel            v0.9.0
| - install   async_rpc_kernel        v0.9.0
| - install   async_unix              v0.9.1
| - install   base                    v0.9.4
| - install   base-bytes              base
| - install   base64                  2.2.0
| - install   bin_prot                v0.9.2
| - install   biniou                  1.2.0
| - install   cohttp                  1.1.0
| - install   cohttp-async            1.0.0
| - install   command_rpc             v0.9.0
| - install   conduit                 1.1.0
| - install   conduit-async           1.0.0
| - install   conf-gmp                1
| - install   conf-gmp-powm-sec       1
| - install   conf-libpcre            1
| - install   conf-perl               1
| - install   conf-pkg-config         1.1
| - install   conf-which              1
| - install   conf-zlib               1
| - install   configurator            v0.9.1
| - install   core                    v0.9.2
| - install   core_kernel             v0.9.1
| - install   cppo                    1.6.4
| - install   cppo_ocamlbuild         1.6.0
| - install   cpuid                   0.1.1
| - install   cryptokit               1.13
| - install   cstruct                 3.2.1
| - install   cstruct-lwt             3.2.1
| - install   easy-format             1.3.1
| - install   fieldslib               v0.9.0
| - install   fmt                     0.8.5
| - install   inotify                 2.3
| - install   ipaddr                  2.8.0
| - install   jane-street-headers     v0.9.0
| - install   jsonm                   1.0.1
| - install   logs                    0.6.2
| - install   lwt                     4.1.0
| - install   magic-mime              1.1.0
| - install   mirage-no-solo5         1
| - install   mirage-no-xen           1
| - install   nocrypto                0.5.4-1
| - install   num                     1.1
| - install   ocaml-compiler-libs     v0.9.0
| - install   ocaml-inifiles          1.2
| - install   ocaml-migrate-parsetree 1.0.7
| - install   ocamlbuild              0.12.0
| - install   ocb-stubblr             0.1.1
| - install   octavius                1.2.0
| - install   ounit                   2.0.8
| - install   pcre                    7.3.4
| - install   ppx_assert              v0.9.0
| - install   ppx_ast                 v0.9.2
| - install   ppx_base                v0.9.0
| - install   ppx_bench               v0.9.1
| - install   ppx_bin_prot            v0.9.0
| - install   ppx_compare             v0.9.0
| - install   ppx_core                v0.9.3
| - install   ppx_custom_printf       v0.9.0
| - install   ppx_derivers            1.0
| - install   ppx_deriving            4.2.1
| - install   ppx_deriving_protocol   0.8
| - install   ppx_driver              v0.9.2
| - install   ppx_enumerate           v0.9.0
| - install   ppx_expect              v0.9.0
| - install   ppx_fail                v0.9.0
| - install   ppx_fields_conv         v0.9.0
| - install   ppx_hash                v0.9.0
| - install   ppx_here                v0.9.1
| - install   ppx_inline_test         v0.9.2
| - install   ppx_jane                v0.9.0
| - install   ppx_js_style            v0.9.0
| - install   ppx_let                 v0.9.0
| - install   ppx_metaquot            v0.9.0
| - install   ppx_optcomp             v0.9.0
| - install   ppx_optional            v0.9.0
| - install   ppx_pipebang            v0.9.0
| - install   ppx_sexp_conv           v0.9.0
| - install   ppx_sexp_message        v0.9.0
| - install   ppx_sexp_value          v0.9.0
| - install   ppx_tools               5.1+4.06.0
| - install   ppx_traverse            v0.9.0
| - install   ppx_traverse_builtins   v0.9.0
| - install   ppx_type_conv           v0.9.1
| - install   ppx_typerep_conv        v0.9.0
| - install   ppx_variants_conv       v0.9.0
| - install   re                      1.7.3
| - install   re2                     v0.9.1
| - install   result                  1.3
| - install   sexplib                 v0.9.3
| - install   spawn                   v0.9.0
| - install   stdio                   v0.9.1
| - install   stringext               1.5.0
| - install   textutils               v0.9.0
| - install   topkg                   0.9.1
| - install   typerep                 v0.9.0
| - install   uchar                   0.0.2
| - install   uri                     1.9.7
| - install   uutf                    1.0.1
| - install   variantslib             v0.9.0
| - install   xml-light               2.4
| - install   yojson                  1.4.1
| - install   zarith                  1.7
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180816021921.export"
31 1534385941 1534386287