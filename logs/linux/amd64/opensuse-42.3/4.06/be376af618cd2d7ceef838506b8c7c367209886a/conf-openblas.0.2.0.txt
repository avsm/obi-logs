$ opam depext -iy -j 2 conf-openblas.0.2.0
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=opensuse, os-family=suse
# The following system packages are needed:
openblas-devel
The following command needs to be run through "sudo":
    zypper --non-interactive install openblas-devel
Loading repository data...
Reading installed packages...
Resolving package dependencies...

The following 6 NEW packages are going to be installed:
  libgfortran3 libopenblas_pthreads-devel libopenblas_pthreads0 libquadmath0 openblas-devel openblas-devel-headers

6 new packages to install.
Overall download size: 3.2 MiB. Already cached: 0 B. After the operation, additional 37.9 MiB will be used.
Continue? [y/n/...? shows all options] (y): y
Retrieving package openblas-devel-headers-0.2.19-4.3.noarch (1/6),  77.7 KiB (  1.2 MiB unpacked)
Retrieving: openblas-devel-headers-0.2.19-4.3.noarch.rpm [done]
Retrieving package libquadmath0-7.3.1+r258812-10.1.x86_64 (2/6), 140.9 KiB (251.1 KiB unpacked)
Retrieving: libquadmath0-7.3.1+r258812-10.1.x86_64.rpm [done]
Retrieving package libgfortran3-6.2.1+r239768-6.19.x86_64 (3/6), 265.4 KiB (  1.2 MiB unpacked)
Retrieving: libgfortran3-6.2.1+r239768-6.19.x86_64.rpm [done]
Retrieving package libopenblas_pthreads0-0.2.19-4.3.x86_64 (4/6),   2.7 MiB ( 35.3 MiB unpacked)
Retrieving: libopenblas_pthreads0-0.2.19-4.3.x86_64.rpm [.done (2.4 KiB/s)]
Retrieving package libopenblas_pthreads-devel-0.2.19-4.3.x86_64 (5/6),  14.1 KiB (    0   B unpacked)
Retrieving: libopenblas_pthreads-devel-0.2.19-4.3.x86_64.rpm [done]
Retrieving package openblas-devel-0.2.19-4.3.x86_64 (6/6),  30.6 KiB ( 44.9 KiB unpacked)
Retrieving: openblas-devel-0.2.19-4.3.x86_64.rpm [done]
Checking for file conflicts: [....done]
(1/6) Installing: openblas-devel-headers-0.2.19-4.3.noarch [...........done]
(2/6) Installing: libquadmath0-7.3.1+r258812-10.1.x86_64 [.......done]
(3/6) Installing: libgfortran3-6.2.1+r239768-6.19.x86_64 [...........done]
(4/6) Installing: libopenblas_pthreads0-0.2.19-4.3.x86_64 [............done]
Additional rpm output:
update-alternatives: error: no alternatives for libblas.so.3
update-alternatives: error: no alternatives for libblas.so.3
update-alternatives: error: no alternatives for liblapack.so.3
update-alternatives: error: no alternatives for liblapack.so.3
update-alternatives: using /usr/lib64/libopenblas_pthreads.so.0 to provide /usr/lib64/libblas.so.3 (libblas.so.3) in auto mode
update-alternatives: using /usr/lib64/libopenblas_pthreads.so.0 to provide /usr/lib64/libcblas.so.3 (libcblas.so.3) in auto mode
update-alternatives: using /usr/lib64/libopenblas_pthreads.so.0 to provide /usr/lib64/liblapack.so.3 (liblapack.so.3) in auto mode
update-alternatives: using /usr/lib64/libopenblas_pthreads.so.0 to provide /usr/lib64/libopenblas.so.0 (libopenblas.so.0) in auto mode
/var/tmp/rpm-tmp.mE48Uo: line 17: [: =: unary operator expected
/var/tmp/rpm-tmp.mE48Uo: line 20: [: =: unary operator expected


(5/6) Installing: libopenblas_pthreads-devel-0.2.19-4.3.x86_64 [.....done]
(6/6) Installing: openblas-devel-0.2.19-4.3.x86_64 [........done]
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install conf-openblas 0.2.0

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[ERROR] The compilation of conf-openblas failed at "/usr/bin/sh -exc cc $CFLAGS test.c -lopenblas".

#=== ERROR while compiling conf-openblas.0.2.0 ================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/conf-openblas.0.2.0
# command              /usr/bin/sh -exc cc $CFLAGS test.c -lopenblas
# exit-code            1
# env-file             ~/.opam/log/conf-openblas-12-9b8556.env
# output-file          ~/.opam/log/conf-openblas-12-9b8556.out
### output ###
# + cc test.c -lopenblas
# test.c:1:19: fatal error: cblas.h: No such file or directory
#  #include <cblas.h>
#                    ^
# compilation terminated.



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build conf-openblas 0.2.0
+- 
- No changes have been performed

The packages you requested declare the following system dependencies. Please make sure they are installed before retrying:
    openblas-devel

# Run eval $(opam env) to update the current shell environment
31 1532314230 1532314254