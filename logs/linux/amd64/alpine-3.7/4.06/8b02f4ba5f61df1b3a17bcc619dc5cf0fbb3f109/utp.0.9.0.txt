$ opam depext -iy -j 2 utp.0.9.0
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=alpine, os-family=alpine
# The following system packages are needed:
m4
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install result          1.3        [required by lwt]
  - install ppx_tools       5.1+4.06.0 [required by lwt]
  - install base-bytes      base       [required by utp]
  - install ocamlbuild      0.12.0     [required by lwt]
  - install cppo            1.6.4      [required by lwt]
  - install cppo_ocamlbuild 1.6.0      [required by lwt]
  - install lwt             3.0.0      [required by utp]
  - install utp             0.9.0
===== 8 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[cppo.1.6.4] found in cache
[cppo_ocamlbuild.1.6.0] found in cache
[lwt.3.0.0] found in cache
[ocamlbuild.0.12.0] found in cache
[ppx_tools.5.1+4.06.0] found in cache
[result.1.3] found in cache
[utp.0.9.0] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed base-bytes.base
-> installed cppo.1.6.4
-> installed ppx_tools.5.1+4.06.0
-> installed result.1.3
-> installed ocamlbuild.0.12.0
-> installed cppo_ocamlbuild.1.6.0
-> installed lwt.3.0.0
[ERROR] The compilation of utp failed at "/usr/bin/make all".

#=== ERROR while compiling utp.0.9.0 ==========================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/utp.0.9.0
# command              /usr/bin/make all
# exit-code            2
# env-file             ~/.opam/log/utp-13-64db53.env
# output-file          ~/.opam/log/utp-13-64db53.out
### output ###
# /usr/bin/make -C libutp/ utp_internal.o
# make[1]: Entering directory '/home/opam/.opam/4.06/.opam-switch/build/utp.0.9.0/libutp'
# g++ -Wall -DPOSIX -g -fno-exceptions -O3 -fPIC -fno-rtti -Wno-sign-compare -fpermissive   -c -o utp_internal.o utp_internal.cpp
# utp_internal.cpp: In member function 'void UTPSocket::send_packet(OutgoingPacket*)':
# utp_internal.cpp:864:2: error: 'time_t' was not declared in this scope
#   time_t cur_time = utp_call_get_milliseconds(this->ctx, this);
#   ^~~~~~
# utp_internal.cpp:881:35: error: 'cur_time' was not declared in this scope
#    if (mtu_discover_time < (uint64)cur_time) {
#                                    ^~~~~~~~
# make[1]: *** [<builtin>: utp_internal.o] Error 1
# make[1]: Leaving directory '/home/opam/.opam/4.06/.opam-switch/build/utp.0.9.0/libutp'
# make: *** [Makefile:27: libutp/utp_internal.o] Error 2



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build utp 0.9.0
+- 
+- The following changes have been performed
| - install base-bytes      base
| - install cppo            1.6.4
| - install cppo_ocamlbuild 1.6.0
| - install lwt             3.0.0
| - install ocamlbuild      0.12.0
| - install ppx_tools       5.1+4.06.0
| - install result          1.3
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180729215610.export"
31 1532901368 1532901402