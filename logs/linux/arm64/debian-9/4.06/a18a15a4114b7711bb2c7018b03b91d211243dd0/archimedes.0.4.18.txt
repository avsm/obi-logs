$ opam depext -iy -j 2 archimedes.0.4.18
# Detecting depexts using vars: arch=arm64, os=linux, os-distribution=debian, os-family=debian
# The following system packages are needed:
m4
# All required OS packages found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install ocamlbuild 0.12.0 [required by archimedes]
  - install camlp4     4.06+1 [required by archimedes]
  - install archimedes 0.4.18
===== 3 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[camlp4.4.06+1] found in cache
[ocamlbuild.0.12.0] found in cache
[archimedes.0.4.18] downloaded from https://forge.ocamlcore.org/frs/download.php/1610/archimedes-0.4.18.tar.gz

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed ocamlbuild.0.12.0
-> installed camlp4.4.06+1
[ERROR] The compilation of archimedes failed at "/home/opam/.opam/4.06/bin/ocaml setup.ml -configure --prefix /home/opam/.opam/4.06 --enable-graphics".

#=== ERROR while compiling archimedes.0.4.18 ==================================#
# context              2.0.0 | linux/arm64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/archimedes.0.4.18
# command              ~/.opam/4.06/bin/ocaml setup.ml -configure --prefix /home/opam/.opam/4.06 --enable-graphics
# exit-code            1
# env-file             ~/.opam/log/archimedes-12-427793.env
# output-file          ~/.opam/log/archimedes-12-427793.out
### output ###
# File "setup.ml", line 7667, characters 15-32:
# Warning 3: deprecated: String.capitalize
# Use String.capitalize_ascii instead.
# ocamlfind: Package `graphics' not found
# W: Field 'pkg_graphics' is not set: Command ''/home/opam/.opam/4.06/bin/ocamlfind' query -format %d graphics > '/tmp/oasis-7ac827.txt'' terminated with error code 2
# E: Cannot find findlib package graphics
# E: Failure("1 configuration error")



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build archimedes 0.4.18
+- 
+- The following changes have been performed
| - install camlp4     4.06+1
| - install ocamlbuild 0.12.0
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180804010636.export"
31 1533344783 1533345330