$ opam depext -iy -j 2 wyrd.1.4.6
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=opensuse, os-family=suse
# No extra OS packages requirements found.
# Now letting OPAM install the packages
The following actions will be performed:
  - install ocamlbuild 0.12.0 [required by camlp4]
  - install camlp4     4.06+1 [required by wyrd]
  - install wyrd       1.4.6
===== 3 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[camlp4.4.06+1] found in cache
[ocamlbuild.0.12.0] found in cache
[wyrd.1.4.6] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed ocamlbuild.0.12.0
-> installed camlp4.4.06+1
[ERROR] The compilation of wyrd failed at "/usr/bin/make".

#=== ERROR while compiling wyrd.1.4.6 =========================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/wyrd.1.4.6
# command              /usr/bin/make
# exit-code            2
# env-file             ~/.opam/log/wyrd-15-3d0870.env
# output-file          ~/.opam/log/wyrd-15-3d0870.out
### output ###
# ocamlc.opt -c locale_wrap.c
# /usr/bin/make -C curses byte opt && touch .stamp_built_curses
# make[1]: Entering directory '/home/opam/.opam/4.06/.opam-switch/build/wyrd.1.4.6/curses'
# make[2]: Entering directory '/home/opam/.opam/4.06/.opam-switch/build/wyrd.1.4.6/curses'
# ocamldep curses.mli > ._bcdi/curses.di
# ocamldep -pp "gcc -x c -E " curses.ml > ._d/curses.d
# ocamldep keys.ml > ._d/keys.d
# ocamlc -c -cc "gcc" -ccopt "-fPIC -g -Wall -DHAVE_CONFIG_H \
# 			-DPIC   \
# 			    -o ml_curses.o " ml_curses.c
# functions.c: In function 'mlcurses_unctrl':
# functions.c:596:5: warning: initialization discards 'const' qualifier from pointer target type [enabled by default]
#  ML1(unctrl,string,chtype)
#      ^
# ml_curses.c:77:15: note: in definition of macro 'r_string'
#    { char *ret=f; \
#                ^
# functions.c:596:1: note: in expansion of macro 'ML1'
#  ML1(unctrl,string,chtype)
#  ^
# functions.c: In function 'mlcurses_keyname':
# functions.c:597:5: warning: initialization discards 'const' qualifier from pointer target type [enabled by default]
#  ML1(keyname,string,int)
#      ^
# ml_curses.c:77:15: note: in definition of macro 'r_string'
#    { char *ret=f; \
#                ^
# functions.c:597:1: note: in expansion of macro 'ML1'
#  ML1(keyname,string,int)
#  ^
# ar rcs libcurses_stubs.a  ml_curses.o
# ocamlc -c keys.ml
# ocamlc -c curses.mli
# ocamlc -c -pp "gcc -x c -E " curses.ml
# ocamlmklib         \
# 			-o curses_stubs  ml_curses.o -lncursesw  \
# 			
# ocamlc -a -dllib dllcurses_stubs.so -custom             -cclib -lcurses_stubs -cclib -lncursesw   -o curses.cma keys.cmo curses.cmo
# make[2]: Leaving directory '/home/opam/.opam/4.06/.opam-switch/build/wyrd.1.4.6/curses'
# sed \
#   -e 's/@PACKAGE@/curses/' \
#   -e 's/@VERSION@/1.0.3/' \
#   -e 's/@CURSES@/ncurses/' \
#   < META.in > META
# ranlib *.a
# make[2]: Entering directory '/home/opam/.opam/4.06/.opam-switch/build/wyrd.1.4.6/curses'
# ocamldep -native curses.mli > ._ncdi/curses.di
# make[2]: 'libcurses_stubs.a' is up to date.
# ocamlopt -c keys.ml
# ocamlopt -c -pp "gcc -x c -E " curses.ml
# ocamlopt -a             -cclib -lcurses_stubs -cclib -lncursesw   -o curses.cmxa keys.cmx curses.cmx
# make[2]: Leaving directory '/home/opam/.opam/4.06/.opam-switch/build/wyrd.1.4.6/curses'
# ranlib *.a
# make[1]: Leaving directory '/home/opam/.opam/4.06/.opam-switch/build/wyrd.1.4.6/curses'
# ocamlopt.opt -c -pp camlp4o -g -I ./curses install.ml
# echo "let version = \""1.4.6"\"" > version.ml
# echo "let date = \""`date`"\"" >> version.ml
# ocamlopt.opt -c -pp camlp4o -g -I ./curses version.ml
# ocamlopt.opt -c -pp camlp4o -g -I ./curses utility.ml
# File "utility.ml", line 274, characters 44-47:
# Error: This expression has type string but an expression was expected of type
#          bytes
# Makefile:154: recipe for target 'utility.cmx' failed
# make: *** [utility.cmx] Error 2



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build wyrd 1.4.6
+- 
+- The following changes have been performed
| - install camlp4     4.06+1
| - install ocamlbuild 0.12.0
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180728031631.export"
31 1532747597 1532747885