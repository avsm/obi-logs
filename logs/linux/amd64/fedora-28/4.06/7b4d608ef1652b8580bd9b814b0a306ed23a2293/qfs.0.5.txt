$ opam depext -iy -j 2 qfs.0.5
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=fedora, os-family=fedora
# The following system packages are needed:
boost-devel
m4
pkgconfig
package boost-devel is not installed
Name        : m4
Version     : 1.4.18
Release     : 6.fc28
Architecture: x86_64
Install Date: Tue Aug  7 20:11:14 2018
Group       : Applications/Text
Size        : 372272
License     : GPLv3+
Signature   : RSA/SHA256, Sun Feb 25 11:01:47 2018, Key ID e08e7e629db62fb1
Source RPM  : m4-1.4.18-6.fc28.src.rpm
Build Date  : Sun Feb 25 10:58:14 2018
Build Host  : buildvm-25.phx2.fedoraproject.org
Relocations : (not relocatable)
Packager    : Fedora Project
Vendor      : Fedora Project
URL         : http://www.gnu.org/software/m4/
Bug URL     : https://bugz.fedoraproject.org/m4
Summary     : The GNU macro processor
Description :
A GNU implementation of the traditional UNIX macro processor.  M4 is
useful for writing text files which can be logically parsed, and is used
by many programs as part of their build process.  M4 has built-in
functions for including files, running shell commands, doing arithmetic,
etc.  The autoconf program needs m4 for generating configure scripts, but
not for running configure scripts.

Install m4 if you need a macro processor.
package pkgconfig is not installed
# The following new OS packages need to be installed: boost-devel pkgconfig
The following command needs to be run through "sudo":
    yum install -y boost-devel pkgconfig
Last metadata expiration check: 3:00:44 ago on Tue Aug  7 20:10:46 2018.
Package pkgconf-pkg-config-1.4.2-1.fc28.x86_64 is already installed, skipping.
Dependencies resolved.
================================================================================
 Package                    Arch        Version              Repository    Size
================================================================================
Installing:
 boost-devel                x86_64      1.66.0-8.fc28        updates       10 M
Installing dependencies:
 boost                      x86_64      1.66.0-8.fc28        updates       50 k
 boost-container            x86_64      1.66.0-8.fc28        updates       82 k
 boost-context              x86_64      1.66.0-8.fc28        updates       54 k
 boost-coroutine            x86_64      1.66.0-8.fc28        updates       70 k
 boost-fiber                x86_64      1.66.0-8.fc28        updates      165 k
 boost-filesystem           x86_64      1.66.0-8.fc28        updates       88 k
 boost-graph                x86_64      1.66.0-8.fc28        updates      152 k
 boost-iostreams            x86_64      1.66.0-8.fc28        updates       78 k
 boost-locale               x86_64      1.66.0-8.fc28        updates      304 k
 boost-log                  x86_64      1.66.0-8.fc28        updates      486 k
 boost-math                 x86_64      1.66.0-8.fc28        updates      303 k
 boost-numpy                x86_64      1.66.0-8.fc28        updates       65 k
 boost-program-options      x86_64      1.66.0-8.fc28        updates      179 k
 boost-python2              x86_64      1.66.0-8.fc28        updates      136 k
 boost-random               x86_64      1.66.0-8.fc28        updates       61 k
 boost-regex                x86_64      1.66.0-8.fc28        updates      320 k
 boost-serialization        x86_64      1.66.0-8.fc28        updates      163 k
 boost-signals              x86_64      1.66.0-8.fc28        updates       78 k
 boost-stacktrace           x86_64      1.66.0-8.fc28        updates       75 k
 boost-test                 x86_64      1.66.0-8.fc28        updates      290 k
 boost-timer                x86_64      1.66.0-8.fc28        updates       60 k
 boost-type_erasure         x86_64      1.66.0-8.fc28        updates       69 k
 boost-wave                 x86_64      1.66.0-8.fc28        updates      230 k
 libgfortran                x86_64      8.1.1-5.fc28         updates      656 k
 libicu                     x86_64      60.2-2.fc28          fedora       8.8 M
 libicu-devel               x86_64      60.2-2.fc28          fedora       920 k
 libquadmath                x86_64      8.1.1-5.fc28         updates      186 k
 libquadmath-devel          x86_64      8.1.1-5.fc28         updates       39 k
 openblas                   x86_64      0.3.1-2.fc28         updates       29 k
 openblas-serial            x86_64      0.3.1-2.fc28         updates      4.5 M
 openblas-threads           x86_64      0.3.1-2.fc28         updates      4.7 M
 python2-nose               noarch      1.3.7-19.fc28        fedora       267 k
 python2-numpy              x86_64      1:1.14.5-1.fc28      updates      3.7 M

Transaction Summary
================================================================================
Install  34 Packages

Total download size: 37 M
Installed size: 256 M
Downloading Packages:
(1/34): boost-1.66.0-8.fc28.x86_64.rpm          1.5 MB/s |  50 kB     00:00    
(2/34): boost-container-1.66.0-8.fc28.x86_64.rp 4.9 MB/s |  82 kB     00:00    
(3/34): boost-context-1.66.0-8.fc28.x86_64.rpm  5.2 MB/s |  54 kB     00:00    
(4/34): boost-coroutine-1.66.0-8.fc28.x86_64.rp 5.3 MB/s |  70 kB     00:00    
(5/34): boost-fiber-1.66.0-8.fc28.x86_64.rpm    8.1 MB/s | 165 kB     00:00    
(6/34): boost-filesystem-1.66.0-8.fc28.x86_64.r 6.4 MB/s |  88 kB     00:00    
(7/34): boost-graph-1.66.0-8.fc28.x86_64.rpm    9.7 MB/s | 152 kB     00:00    
(8/34): boost-iostreams-1.66.0-8.fc28.x86_64.rp 5.7 MB/s |  78 kB     00:00    
(9/34): boost-locale-1.66.0-8.fc28.x86_64.rpm    11 MB/s | 304 kB     00:00    
(10/34): boost-log-1.66.0-8.fc28.x86_64.rpm      12 MB/s | 486 kB     00:00    
(11/34): boost-math-1.66.0-8.fc28.x86_64.rpm     14 MB/s | 303 kB     00:00    
(12/34): boost-numpy-1.66.0-8.fc28.x86_64.rpm   7.8 MB/s |  65 kB     00:00    
(13/34): boost-program-options-1.66.0-8.fc28.x8  12 MB/s | 179 kB     00:00    
(14/34): boost-python2-1.66.0-8.fc28.x86_64.rpm 9.6 MB/s | 136 kB     00:00    
(15/34): libicu-devel-60.2-2.fc28.x86_64.rpm    3.3 MB/s | 920 kB     00:00    
(16/34): boost-random-1.66.0-8.fc28.x86_64.rpm  8.2 MB/s |  61 kB     00:00    
(17/34): boost-serialization-1.66.0-8.fc28.x86_ 9.5 MB/s | 163 kB     00:00    
(18/34): boost-signals-1.66.0-8.fc28.x86_64.rpm 8.9 MB/s |  78 kB     00:00    
(19/34): boost-stacktrace-1.66.0-8.fc28.x86_64. 9.0 MB/s |  75 kB     00:00    
(20/34): boost-regex-1.66.0-8.fc28.x86_64.rpm   6.4 MB/s | 320 kB     00:00    
(21/34): boost-test-1.66.0-8.fc28.x86_64.rpm     14 MB/s | 290 kB     00:00    
(22/34): boost-timer-1.66.0-8.fc28.x86_64.rpm   6.3 MB/s |  60 kB     00:00    
(23/34): boost-type_erasure-1.66.0-8.fc28.x86_6 7.3 MB/s |  69 kB     00:00    
(24/34): boost-devel-1.66.0-8.fc28.x86_64.rpm    26 MB/s |  10 MB     00:00    
(25/34): boost-wave-1.66.0-8.fc28.x86_64.rpm    3.7 MB/s | 230 kB     00:00    
(26/34): libquadmath-devel-8.1.1-5.fc28.x86_64. 3.1 MB/s |  39 kB     00:00    
(27/34): libquadmath-8.1.1-5.fc28.x86_64.rpm     11 MB/s | 186 kB     00:00    
(28/34): python2-numpy-1.14.5-1.fc28.x86_64.rpm  44 MB/s | 3.7 MB     00:00    
(29/34): python2-nose-1.3.7-19.fc28.noarch.rpm  1.8 MB/s | 267 kB     00:00    
(30/34): libgfortran-8.1.1-5.fc28.x86_64.rpm     19 MB/s | 656 kB     00:00    
(31/34): openblas-0.3.1-2.fc28.x86_64.rpm       3.6 MB/s |  29 kB     00:00    
(32/34): openblas-threads-0.3.1-2.fc28.x86_64.r  24 MB/s | 4.7 MB     00:00    
(33/34): openblas-serial-0.3.1-2.fc28.x86_64.rp  27 MB/s | 4.5 MB     00:00    
(34/34): libicu-60.2-2.fc28.x86_64.rpm          5.2 MB/s | 8.8 MB     00:01    
--------------------------------------------------------------------------------
Total                                            11 MB/s |  37 MB     00:03     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : libicu-60.2-2.fc28.x86_64                             1/34 
  Running scriptlet: libicu-60.2-2.fc28.x86_64                             1/34 
  Installing       : boost-filesystem-1.66.0-8.fc28.x86_64                 2/34 
  Installing       : boost-regex-1.66.0-8.fc28.x86_64                      3/34 
  Installing       : boost-context-1.66.0-8.fc28.x86_64                    4/34 
  Installing       : boost-timer-1.66.0-8.fc28.x86_64                      5/34 
  Installing       : boost-python2-1.66.0-8.fc28.x86_64                    6/34 
  Installing       : boost-test-1.66.0-8.fc28.x86_64                       7/34 
  Installing       : boost-coroutine-1.66.0-8.fc28.x86_64                  8/34 
  Installing       : boost-fiber-1.66.0-8.fc28.x86_64                      9/34 
  Installing       : boost-graph-1.66.0-8.fc28.x86_64                     10/34 
  Installing       : boost-log-1.66.0-8.fc28.x86_64                       11/34 
  Installing       : boost-wave-1.66.0-8.fc28.x86_64                      12/34 
  Installing       : boost-locale-1.66.0-8.fc28.x86_64                    13/34 
  Installing       : openblas-0.3.1-2.fc28.x86_64                         14/34 
  Running scriptlet: openblas-0.3.1-2.fc28.x86_64                         14/34 
  Installing       : libquadmath-8.1.1-5.fc28.x86_64                      15/34 
  Running scriptlet: libquadmath-8.1.1-5.fc28.x86_64                      15/34 
  Installing       : libgfortran-8.1.1-5.fc28.x86_64                      16/34 
  Running scriptlet: libgfortran-8.1.1-5.fc28.x86_64                      16/34 
  Installing       : boost-type_erasure-1.66.0-8.fc28.x86_64              17/34 
  Installing       : boost-stacktrace-1.66.0-8.fc28.x86_64                18/34 
  Installing       : boost-signals-1.66.0-8.fc28.x86_64                   19/34 
  Installing       : boost-serialization-1.66.0-8.fc28.x86_64             20/34 
  Installing       : boost-random-1.66.0-8.fc28.x86_64                    21/34 
  Installing       : boost-program-options-1.66.0-8.fc28.x86_64           22/34 
  Installing       : boost-math-1.66.0-8.fc28.x86_64                      23/34 
  Installing       : boost-iostreams-1.66.0-8.fc28.x86_64                 24/34 
  Installing       : boost-container-1.66.0-8.fc28.x86_64                 25/34 
  Installing       : openblas-threads-0.3.1-2.fc28.x86_64                 26/34 
  Running scriptlet: openblas-threads-0.3.1-2.fc28.x86_64                 26/34 
  Installing       : openblas-serial-0.3.1-2.fc28.x86_64                  27/34 
  Installing       : libquadmath-devel-8.1.1-5.fc28.x86_64                28/34 
  Installing       : libicu-devel-60.2-2.fc28.x86_64                      29/34 
  Installing       : python2-nose-1.3.7-19.fc28.noarch                    30/34 
  Installing       : python2-numpy-1:1.14.5-1.fc28.x86_64                 31/34 
  Installing       : boost-numpy-1.66.0-8.fc28.x86_64                     32/34 
  Installing       : boost-1.66.0-8.fc28.x86_64                           33/34 
  Installing       : boost-devel-1.66.0-8.fc28.x86_64                     34/34 
  Running scriptlet: boost-devel-1.66.0-8.fc28.x86_64                     34/34 
  Verifying        : boost-devel-1.66.0-8.fc28.x86_64                      1/34 
  Verifying        : boost-1.66.0-8.fc28.x86_64                            2/34 
  Verifying        : libicu-devel-60.2-2.fc28.x86_64                       3/34 
  Verifying        : boost-container-1.66.0-8.fc28.x86_64                  4/34 
  Verifying        : boost-context-1.66.0-8.fc28.x86_64                    5/34 
  Verifying        : boost-coroutine-1.66.0-8.fc28.x86_64                  6/34 
  Verifying        : boost-fiber-1.66.0-8.fc28.x86_64                      7/34 
  Verifying        : boost-filesystem-1.66.0-8.fc28.x86_64                 8/34 
  Verifying        : boost-graph-1.66.0-8.fc28.x86_64                      9/34 
  Verifying        : boost-iostreams-1.66.0-8.fc28.x86_64                 10/34 
  Verifying        : boost-locale-1.66.0-8.fc28.x86_64                    11/34 
  Verifying        : boost-log-1.66.0-8.fc28.x86_64                       12/34 
  Verifying        : boost-math-1.66.0-8.fc28.x86_64                      13/34 
  Verifying        : boost-numpy-1.66.0-8.fc28.x86_64                     14/34 
  Verifying        : boost-program-options-1.66.0-8.fc28.x86_64           15/34 
  Verifying        : boost-python2-1.66.0-8.fc28.x86_64                   16/34 
  Verifying        : boost-random-1.66.0-8.fc28.x86_64                    17/34 
  Verifying        : boost-regex-1.66.0-8.fc28.x86_64                     18/34 
  Verifying        : boost-serialization-1.66.0-8.fc28.x86_64             19/34 
  Verifying        : boost-signals-1.66.0-8.fc28.x86_64                   20/34 
  Verifying        : boost-stacktrace-1.66.0-8.fc28.x86_64                21/34 
  Verifying        : boost-test-1.66.0-8.fc28.x86_64                      22/34 
  Verifying        : boost-timer-1.66.0-8.fc28.x86_64                     23/34 
  Verifying        : boost-type_erasure-1.66.0-8.fc28.x86_64              24/34 
  Verifying        : boost-wave-1.66.0-8.fc28.x86_64                      25/34 
  Verifying        : libicu-60.2-2.fc28.x86_64                            26/34 
  Verifying        : libquadmath-devel-8.1.1-5.fc28.x86_64                27/34 
  Verifying        : libquadmath-8.1.1-5.fc28.x86_64                      28/34 
  Verifying        : python2-numpy-1:1.14.5-1.fc28.x86_64                 29/34 
  Verifying        : python2-nose-1.3.7-19.fc28.noarch                    30/34 
  Verifying        : openblas-threads-0.3.1-2.fc28.x86_64                 31/34 
  Verifying        : libgfortran-8.1.1-5.fc28.x86_64                      32/34 
  Verifying        : openblas-0.3.1-2.fc28.x86_64                         33/34 
  Verifying        : openblas-serial-0.3.1-2.fc28.x86_64                  34/34 

Installed:
  boost-devel.x86_64 1.66.0-8.fc28                                              
  boost.x86_64 1.66.0-8.fc28                                                    
  boost-container.x86_64 1.66.0-8.fc28                                          
  boost-context.x86_64 1.66.0-8.fc28                                            
  boost-coroutine.x86_64 1.66.0-8.fc28                                          
  boost-fiber.x86_64 1.66.0-8.fc28                                              
  boost-filesystem.x86_64 1.66.0-8.fc28                                         
  boost-graph.x86_64 1.66.0-8.fc28                                              
  boost-iostreams.x86_64 1.66.0-8.fc28                                          
  boost-locale.x86_64 1.66.0-8.fc28                                             
  boost-log.x86_64 1.66.0-8.fc28                                                
  boost-math.x86_64 1.66.0-8.fc28                                               
  boost-numpy.x86_64 1.66.0-8.fc28                                              
  boost-program-options.x86_64 1.66.0-8.fc28                                    
  boost-python2.x86_64 1.66.0-8.fc28                                            
  boost-random.x86_64 1.66.0-8.fc28                                             
  boost-regex.x86_64 1.66.0-8.fc28                                              
  boost-serialization.x86_64 1.66.0-8.fc28                                      
  boost-signals.x86_64 1.66.0-8.fc28                                            
  boost-stacktrace.x86_64 1.66.0-8.fc28                                         
  boost-test.x86_64 1.66.0-8.fc28                                               
  boost-timer.x86_64 1.66.0-8.fc28                                              
  boost-type_erasure.x86_64 1.66.0-8.fc28                                       
  boost-wave.x86_64 1.66.0-8.fc28                                               
  libgfortran.x86_64 8.1.1-5.fc28                                               
  libicu.x86_64 60.2-2.fc28                                                     
  libicu-devel.x86_64 60.2-2.fc28                                               
  libquadmath.x86_64 8.1.1-5.fc28                                               
  libquadmath-devel.x86_64 8.1.1-5.fc28                                         
  openblas.x86_64 0.3.1-2.fc28                                                  
  openblas-serial.x86_64 0.3.1-2.fc28                                           
  openblas-threads.x86_64 0.3.1-2.fc28                                          
  python2-nose.noarch 1.3.7-19.fc28                                             
  python2-numpy.x86_64 1:1.14.5-1.fc28                                          

Complete!
The following command needs to be run through "sudo":
    rpm -q --whatprovides boost-devel pkgconfig
boost-devel-1.66.0-8.fc28.x86_64
pkgconf-pkg-config-1.4.2-1.fc28.x86_64
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install result          1.3    [required by lwt]
  - install base-bytes      base   [required by qfs]
  - install ocamlbuild      0.12.0 [required by qfs]
  - install conf-pkg-config 1.1    [required by conf-boost]
  - install cppo            1.6.4  [required by extlib, lwt]
  - install conf-boost      1      [required by qfs]
  - install lwt             4.1.0  [required by qfs]         For the PPX, please install package lwt_ppx
                                                             For Lwt_log and Lwt_daemon, please install package lwt_log
  - install extlib          1.7.5  [required by qfs]
  - install qfs             0.5
===== 9 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[cppo.1.6.4] found in cache
[extlib.1.7.5] found in cache
[lwt.4.1.0] found in cache
[ocamlbuild.0.12.0] found in cache
[qfs.0.5] found in cache
[result.1.3] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed base-bytes.base
-> installed conf-pkg-config.1.1
-> installed conf-boost.1
-> installed cppo.1.6.4
-> installed extlib.1.7.5
-> installed result.1.3
-> installed ocamlbuild.0.12.0
-> installed lwt.4.1.0
[ERROR] The compilation of qfs failed at "/home/opam/.opam/4.06/bin/ocaml setup.ml -build".

#=== ERROR while compiling qfs.0.5 ============================================#
# context              2.0.0 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/qfs.0.5
# command              ~/.opam/4.06/bin/ocaml setup.ml -build
# exit-code            1
# env-file             ~/.opam/log/qfs-10-a4cb4f.env
# output-file          ~/.opam/log/qfs-10-a4cb4f.out
### output ###
# File "./setup.ml", line 318, characters 20-36:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 318, characters 42-58:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 327, characters 14-30:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 327, characters 38-54:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 330, characters 25-41:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 368, characters 10-26:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 474, characters 13-29:
# Warning 3: deprecated: String.lowercase
# Use String.lowercase_ascii instead.
# File "./setup.ml", line 1825, characters 16-33:
# Warning 3: deprecated: String.capitalize
# Use String.capitalize_ascii instead.
# File "./setup.ml", line 1831, characters 16-35:
# Warning 3: deprecated: String.uncapitalize
# Use String.uncapitalize_ascii instead.
# File "setup.ml", line 5847, characters 11-28:
# Warning 3: deprecated: String.capitalize
# Use String.capitalize_ascii instead.
# File "setup.ml", line 5848, characters 11-30:
# Warning 3: deprecated: String.uncapitalize
# Use String.uncapitalize_ascii instead.
# ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/4.06/lib/ocamlbuild /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# /home/opam/.opam/4.06/bin/ocamlfind ocamlc -g -ccopt -x -ccopt c++ -ccopt -Wall -ccopt -Wno-write-strings -package unix -package lwt.unix -package extlib -package bytes -c src/qfs_stubs.c
# + /home/opam/.opam/4.06/bin/ocamlfind ocamlc -g -ccopt -x -ccopt c++ -ccopt -Wall -ccopt -Wno-write-strings -package unix -package lwt.unix -package extlib -package bytes -c src/qfs_stubs.c
# ocamlfind: [WARNING] Package `threads': Linking problems may arise because of the missing -thread or -vmthread switch
# src/qfs_stubs.c:4:10: fatal error: kfs/KfsClient.h: No such file or directory
#  #include <kfs/KfsClient.h>
#           ^~~~~~~~~~~~~~~~~
# compilation terminated.
# Command exited with code 2.
# + ocamlfind ocamlopt unix.cmxa -I /home/opam/.opam/4.06/lib/ocamlbuild /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuildlib.cmxa -linkpkg myocamlbuild.ml /home/opam/.opam/4.06/lib/ocamlbuild/ocamlbuild.cmx -o myocamlbuild
# File "myocamlbuild.ml", line 518, characters 43-62:
# Warning 3: deprecated: Ocamlbuild_plugin.String.uncapitalize
# Use String.uncapitalize_ascii instead.
# File "myocamlbuild.ml", line 531, characters 51-70:
# Warning 3: deprecated: Ocamlbuild_plugin.String.uncapitalize
# Use String.uncapitalize_ascii instead.
# E: Failure("Command ''/home/opam/.opam/4.06/bin/ocamlbuild' src/libqfs_stubs.a src/dllqfs_stubs.so src/qfs.cma src/qfs.cmxa src/qfs.a src/qfs.cmxs src/example.native -use-ocamlfind -tag debug' terminated with error code 10")



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build qfs 0.5
+- 
+- The following changes have been performed
| - install base-bytes      base
| - install conf-boost      1
| - install conf-pkg-config 1.1
| - install cppo            1.6.4
| - install extlib          1.7.5
| - install lwt             4.1.0
| - install ocamlbuild      0.12.0
| - install result          1.3
+- 

<><> qfs.0.5 troubleshooting ><><><><><><><><><><><><><><><><><><><><><><><><><>
=> This package requires QFS development files installed, consult https://quantcast.github.io/qfs/
     and https://github.com/quantcast/qfs/wiki/Developer-Documentation on how to build manually.

     Tentative instructions for Debian : https://gist.githubusercontent.com/ygrek/7bb217d6ab7b25a765b7/raw
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180807231147.export"
31 1533683487 1533683526